{
  "version": 3,
  "file": "appbundle.css",
  "sources": [
    "..\\Datepicker.svelte",
    "..\\Month.svelte",
    "..\\NavBar.svelte",
    "..\\Popover.svelte",
    "..\\Week.svelte",
    "..\\SortableList.svelte",
    "..\\Accommodations.svelte",
    "..\\App.svelte",
    "..\\PDF.svelte",
    "..\\Record.svelte",
    "..\\Settings.svelte",
    "..\\Students.svelte",
    "..\\Write.svelte",
    "..\\Modal.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import Month from './Month.svelte';\n  import NavBar from './NavBar.svelte';\n  import Popover from './Popover.svelte';\n  import { getMonths } from './lib/helpers';\n  import { formatDate, internationalize } from 'timeUtils';\n  import { keyCodes, keyCodesArray } from './lib/keyCodes';\n  import { onMount, createEventDispatcher } from 'svelte';\n\n  const dispatch = createEventDispatcher();\n  const today = new Date();\n\n  let popover;\n\n  export let format = '#{m}/#{d}/#{Y}';\n  export let start = new Date(1987, 9, 29);\n  export let end = new Date(2020, 9, 29);\n  export let selected = today;\n  export let dateChosen = false;\n  export let trigger = null;\n  export let selectableCallback = null;\n  export let weekStart = 0;\n  export let daysOfWeek = [\n    ['Sunday', 'Sun'],\n    ['Monday', 'Mon'],\n    ['Tuesday', 'Tue'],\n    ['Wednesday', 'Wed'],\n    ['Thursday', 'Thu'],\n    ['Friday', 'Fri'],\n    ['Saturday', 'Sat']\n  ];\n  export let monthsOfYear = [\n    ['January', 'Jan'],\n    ['February', 'Feb'],\n    ['March', 'Mar'],\n    ['April', 'Apr'],\n    ['May', 'May'],\n    ['June', 'Jun'],\n    ['July', 'Jul'],\n    ['August', 'Aug'],\n    ['September', 'Sep'],\n    ['October', 'Oct'],\n    ['November', 'Nov'],\n    ['December', 'Dec']\n  ];\n\n  export let style = '';\n  \n  // theming variables:\n  export let buttonBackgroundColor = '#fff';\n  export let buttonBorderColor = '#eee';\n  export let buttonTextColor = '#333';\n  export let highlightColor = '#f7901e';\n  export let dayBackgroundColor = 'none';\n  export let dayTextColor = '#4a4a4a';\n  export let dayHighlightedBackgroundColor = '#efefef';\n  export let dayHighlightedTextColor = '#4a4a4a';\n\n  internationalize({ daysOfWeek, monthsOfYear });\n  let sortedDaysOfWeek = weekStart === 0 ? daysOfWeek : (() => {\n    let dow = daysOfWeek.slice();\n    dow.push(dow.shift());\n    return dow;\n  })();\n\n  let highlighted = today;\n  let shouldShakeDate = false;\n  let shakeHighlightTimeout;\n  let month = today.getMonth();\n  let year = today.getFullYear();\n\n  let isOpen = false;\n  let isClosing = false;\n\n  today.setHours(0, 0, 0, 0);\n\n  function assignmentHandler(formatted) {\n    if (!trigger) return;\n    trigger.innerHTML = formatted;\n  }\n\n  $: months = getMonths(start, end, selectableCallback, weekStart);\n\n  let monthIndex = 0;\n  $: {\n    monthIndex = 0;\n    for (let i = 0; i < months.length; i += 1) {\n      if (months[i].month === month && months[i].year === year) {\n        monthIndex = i;\n      }\n    }\n  }\n  $: visibleMonth = months[monthIndex];\n\n  $: visibleMonthId = year + month / 100;\n  $: lastVisibleDate = visibleMonth.weeks[visibleMonth.weeks.length - 1].days[6].date;\n  $: firstVisibleDate = visibleMonth.weeks[0].days[0].date;\n  $: canIncrementMonth = monthIndex < months.length - 1;\n  $: canDecrementMonth = monthIndex > 0;\n  $: wrapperStyle = `\n    --button-background-color: ${buttonBackgroundColor};\n    --button-border-color: ${buttonBorderColor};\n    --button-text-color: ${buttonTextColor};\n    --highlight-color: ${highlightColor};\n    --day-background-color: ${dayBackgroundColor};\n    --day-text-color: ${dayTextColor};\n    --day-highlighted-background-color: ${dayHighlightedBackgroundColor};\n    --day-highlighted-text-color: ${dayHighlightedTextColor};\n    ${style}\n  `;\n\n  export let formattedSelected;\n  $: {\n    formattedSelected = typeof format === 'function'\n      ? format(selected)\n      : formatDate(selected, format);\n  }\n\n  onMount(() => {\n    month = selected.getMonth();\n    year = selected.getFullYear();\n  });\n\n  function changeMonth(selectedMonth) {\n    month = selectedMonth;\n    highlighted = new Date(year, month, 1);\n  }\n\n  function incrementMonth(direction, day = 1) {\n    if (direction === 1 && !canIncrementMonth) return;\n    if (direction === -1 && !canDecrementMonth) return;\n    let current = new Date(year, month, 1);\n    current.setMonth(current.getMonth() + direction);\n    month = current.getMonth();\n    year = current.getFullYear();\n    highlighted = new Date(year, month, day);\n  }\n\n  function getDefaultHighlighted() {\n    return new Date(selected);\n  }\n\n  const getDay = (m, d, y) => {\n    let theMonth = months.find(aMonth => aMonth.month === m && aMonth.year === y);\n    if (!theMonth) return null;\n    // eslint-disable-next-line\n    for (let i = 0; i < theMonth.weeks.length; ++i) {\n      // eslint-disable-next-line\n      for (let j = 0; j < theMonth.weeks[i].days.length; ++j) {\n        let aDay = theMonth.weeks[i].days[j];\n        if (aDay.month === m && aDay.day === d && aDay.year === y) return aDay;\n      }\n    }\n    return null;\n  };\n\n  function incrementDayHighlighted(amount) {\n    let proposedDate = new Date(highlighted);\n    proposedDate.setDate(highlighted.getDate() + amount);\n    let correspondingDayObj = getDay(\n      proposedDate.getMonth(),\n      proposedDate.getDate(),\n      proposedDate.getFullYear()\n    );\n    if (!correspondingDayObj || !correspondingDayObj.isInRange) return;\n    highlighted = proposedDate;\n    if (amount > 0 && highlighted > lastVisibleDate) {\n      incrementMonth(1, highlighted.getDate());\n    }\n    if (amount < 0 && highlighted < firstVisibleDate) {\n      incrementMonth(-1, highlighted.getDate());\n    }\n  }\n\n  function checkIfVisibleDateIsSelectable(date) {\n    const proposedDay = getDay(date.getMonth(), date.getDate(), date.getFullYear());\n    return proposedDay && proposedDay.selectable;\n  }\n\n  function shakeDate(date) {\n    clearTimeout(shakeHighlightTimeout);\n    shouldShakeDate = date;\n    shakeHighlightTimeout = setTimeout(() => {\n      shouldShakeDate = false;\n    }, 700);\n  }\n\n  function assignValueToTrigger(formatted) {\n    assignmentHandler(formatted);\n  }\n\n  function registerSelection(chosen) {\n    if (!checkIfVisibleDateIsSelectable(chosen)) return shakeDate(chosen);\n    // eslint-disable-next-line\n    close();\n    selected = chosen;\n    dateChosen = true;\n    assignValueToTrigger(formattedSelected);\n    return dispatch('dateSelected', { date: chosen });\n  }\n\n  function handleKeyPress(evt) {\n    if (keyCodesArray.indexOf(evt.keyCode) === -1) return;\n    evt.preventDefault();\n    switch (evt.keyCode) {\n      case keyCodes.left:\n        incrementDayHighlighted(-1);\n        break;\n      case keyCodes.up:\n        incrementDayHighlighted(-7);\n        break;\n      case keyCodes.right:\n        incrementDayHighlighted(1);\n        break;\n      case keyCodes.down:\n        incrementDayHighlighted(7);\n        break;\n      case keyCodes.pgup:\n        incrementMonth(-1);\n        break;\n      case keyCodes.pgdown:\n        incrementMonth(1);\n        break;\n      case keyCodes.escape:\n        // eslint-disable-next-line\n        close();\n        break;\n      case keyCodes.enter:\n        registerSelection(highlighted);\n        break;\n      default:\n        break;\n    }\n  }\n\n  function registerClose() {\n    document.removeEventListener('keydown', handleKeyPress);\n    dispatch('close');\n  }\n\n  function close() {\n    popover.close();\n    registerClose();\n  }\n\n  function registerOpen() {\n    highlighted = getDefaultHighlighted();\n    month = selected.getMonth();\n    year = selected.getFullYear();\n    document.addEventListener('keydown', handleKeyPress);\n    dispatch('open');\n  }\n\n</script>\n\n<div \n  class=\"datepicker\" \n  class:open=\"{isOpen}\" \n  class:closing=\"{isClosing}\"\n  style={wrapperStyle}\n>\n  <Popover\n    bind:this=\"{popover}\"\n    bind:open=\"{isOpen}\"\n    bind:shrink=\"{isClosing}\"\n    {trigger}\n    on:opened=\"{registerOpen}\"\n    on:closed=\"{registerClose}\"\n  >\n    <div slot=\"trigger\">\n      <slot {selected} {formattedSelected}>\n        {#if !trigger}\n        <button class=\"calendar-button\" type=\"button\">\n          {formattedSelected}\n        </button>\n        {/if}\n      </slot>\n    </div>\n    <div slot=\"contents\">\n      <div class=\"calendar\">\n        <NavBar \n          {month}\n          {year}\n          {canIncrementMonth}\n          {canDecrementMonth}\n          {start}\n          {end}\n          {monthsOfYear}\n          on:monthSelected={e => changeMonth(e.detail)}\n          on:incrementMonth={e => incrementMonth(e.detail)} \n        />\n        <div class=\"legend\">\n          {#each sortedDaysOfWeek as day}\n          <span>{day[1]}</span>\n          {/each}\n        </div>\n        <Month \n          {visibleMonth}\n          {selected}\n          {highlighted}\n          {shouldShakeDate}\n          id={visibleMonthId}\n          on:dateSelected={e => registerSelection(e.detail)} \n        />\n      </div>\n    </div>\n  </Popover>\n</div>\n\n<style>\n.datepicker {\n  display: inline-block;\n  margin: 0 auto;\n  text-align: center;\n  overflow: visible;\n}\n\n.calendar-button {\n  padding: 10px 20px;\n  border: 1px solid var(--button-border-color);\n  display: block;\n  text-align: center;\n  width: 300px;\n  text-decoration: none;\n  cursor: pointer;\n  background: var(--button-background-color);\n  color: var(--button-text-color);\n  border-radius: 7px;\n  box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.1);\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n}\n\n.calendar {\n  box-sizing: border-box;\n  position: relative;\n  overflow: hidden;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  width: 100vw;\n  padding: 10px;\n  padding-top: 0;\n}\n\n@media (min-width: 480px) {\n  .calendar {\n    height: auto;\n    width: 340px;\n    max-width: 100%;\n  }\n}\n\n.legend {\n  color: #4a4a4a;\n  padding: 10px 0;\n  margin-bottom: 5px;\n}\n\n.legend span {\n  width: 14.285714%;\n  display: inline-block;\n  text-align: center;\n}</style>\n",
    "<script>\n  import Week from './Week.svelte';\n\n  export let id;\n  export let visibleMonth;\n  export let selected;\n  export let highlighted;\n  export let shouldShakeDate;\n\n  let lastId = id;\n  let direction;\n\n  $: {\n    direction = lastId < id ? 1 : -1;\n    lastId = id;\n  }\n</script>\r\n\r\n<div class=\"month-container\">\r\n  {#each visibleMonth.weeks as week (week.id) }\r\n    <Week \r\n      days={week.days} \r\n      {selected} \r\n      {highlighted} \r\n      {shouldShakeDate} \r\n      {direction}\r\n      on:dateSelected \r\n    />\r\n  {/each}\r\n</div>\r\n\r\n<style>\r\n.month-container { \r\n  width: 100%;\r\n  display: -ms-grid;\r\n  display: grid;\r\n  -ms-grid-columns: 1fr;\r\n  -ms-grid-rows: 1fr;\r\n}</style>\r\n",
    "<script>\n  import { createEventDispatcher } from 'svelte';\n\n  const dispatch = createEventDispatcher();\n\n  export let month;\n  export let year;\n  export let start;\n  export let end;\n  export let canIncrementMonth;\n  export let canDecrementMonth;\n  export let monthsOfYear;\n\n  let monthSelectorOpen = false;\n  let availableMonths;\n\n  $: {\n    let isOnLowerBoundary = start.getFullYear() === year;\n    let isOnUpperBoundary = end.getFullYear() === year;\n    availableMonths = monthsOfYear.map((m, i) => {\n      return Object.assign({}, {\n        name: m[0],\n        abbrev: m[1]\n      }, {\n        selectable:\n          (!isOnLowerBoundary && !isOnUpperBoundary)\n          || (\n            (!isOnLowerBoundary || i >= start.getMonth())\n            && (!isOnUpperBoundary || i <= end.getMonth())\n          )\n      });\n    });\n  }\n\n  function toggleMonthSelectorOpen() {\n    monthSelectorOpen = !monthSelectorOpen;\n  }\n\n  function monthSelected(event, { m, i }) {\n    event.stopPropagation();\n    if (!m.selectable) return;\n    dispatch('monthSelected', i);\n    toggleMonthSelectorOpen();\n  }\n</script>\r\n\r\n<div class=\"title\">\r\n  <div class=\"heading-section\">\r\n    <div class=\"control\" \r\n      class:enabled={canDecrementMonth}\r\n      on:click={() => dispatch('incrementMonth', -1)}>\r\n      <i class=\"arrow left\"></i>\r\n    </div>\r\n    <div class=\"label\" on:click={toggleMonthSelectorOpen}>\r\n      {monthsOfYear[month][0]} {year}\r\n    </div> \r\n    <div class=\"control\"\r\n      class:enabled={canIncrementMonth}\r\n      on:click={() => dispatch('incrementMonth', 1)}>\r\n      <i class=\"arrow right\"></i>\r\n    </div>\r\n  </div>\r\n  <div class=\"month-selector\" class:open={monthSelectorOpen}>\r\n    {#each availableMonths as monthDefinition, index}\r\n      <div \r\n        class=\"month-selector--month\" \r\n        class:selected={index === month}\r\n        class:selectable={monthDefinition.selectable}\r\n        on:click={e => monthSelected(e, { m: monthDefinition, i: index })}\r\n      >\r\n        <span>{monthDefinition.abbrev}</span>\r\n      </div>\r\n    {/each}\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n.heading-section { \r\n  font-size: 20px;\r\n  padding: 24px 15px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: #3d4548;\r\n  font-weight: bold;\r\n}\r\n.label { \r\n  cursor: pointer;\r\n}\r\n.month-selector { \r\n  position: absolute;\r\n  top: 75px; \r\n  left: 0; \r\n  right: 0; \r\n  bottom: 0; \r\n  background-color: #fff;\r\n  transition: all 300ms; \r\n  transform: scale(1.2); \r\n  opacity: 0; \r\n  visibility: hidden;\r\n  z-index: 1;\r\n  text-align: center;\r\n}\r\n.month-selector.open { \r\n  transform: scale(1); \r\n  visibility: visible;\r\n  opacity: 1;\r\n}\r\n.month-selector--month { \r\n  width: 31.333%; \r\n  margin: .5%; \r\n  height: 23%;\r\n  display: inline-block;\r\n  color: #4a4a4a;\r\n  border: 1px solid #efefef;\r\n  opacity: 0.2;\r\n}\r\n.month-selector--month.selectable { \r\n  opacity: 1; \r\n}\r\n.month-selector--month.selectable:hover { \r\n  cursor: pointer;\r\n  box-shadow: 0px 0px 3px rgba(0,0,0,0.15);\r\n}\r\n.month-selector--month.selected { \r\n  background: var(--highlight-color);\r\n  color: #fff;\r\n}\r\n.month-selector--month:before { \r\n  content: ' ';\r\n  display: inline-block;\r\n  height: 100%;\r\n  vertical-align: middle;\r\n}\r\n.month-selector--month span { \r\n  vertical-align: middle; \r\n  display: inline-block;\r\n}\r\n\r\n.control { \r\n  padding: 0 8px;\r\n  opacity: 0.2;\r\n  transform: translateY(3px);\r\n}\r\n\r\n.control.enabled { \r\n  opacity: 1; \r\n  cursor: pointer;\r\n}\r\n\r\n.arrow {\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  border-style: solid;\r\n  border-color: #a9a9a9;\r\n  border-width: 0;\r\n  border-bottom-width: 2px;\r\n  border-right-width: 2px;\r\n}\r\n\r\n.arrow.right {\r\n  transform: rotate(-45deg);\r\n  -webkit-transform: rotate(-45deg);\r\n}\r\n\r\n.arrow.left {\r\n  transform: rotate(135deg);\r\n  -webkit-transform: rotate(135deg);\r\n}</style>\r\n",
    "<script>\n  import { onMount, createEventDispatcher, tick } from 'svelte';\n\n  const dispatch = createEventDispatcher();\n\n  let once = (el, evt, cb) => {\n    function handler() {\n      cb.apply(this, arguments);\n      el.removeEventListener(evt, handler);\n    }\n    el.addEventListener(evt, handler);\n  };\n\n  let popover;\n  let w;\n  let triggerContainer;\n  let contentsAnimated;\n  let contentsWrapper;\n  let translateY = 0;\n  let translateX = 0;\n\n  export let open = false;\n  export let shrink;\n  export let trigger;\n  export const close = () => {\n    shrink = true;\n    once(contentsAnimated, 'animationend', () => {\n      shrink = false;\n      open = false;\n      dispatch('closed');\n    });\n  };\n\n  function checkForFocusLoss(evt) {\n    if (!open) return;\n    let el = evt.target;\n    // eslint-disable-next-line\n    do {\r\n      if (el === popover) return;\n    // eslint-disable-next-line\n    } while (el = el.parentNode);\r\n    close();\n  }\n\n  onMount(() => {\n    document.addEventListener('click', checkForFocusLoss);\n    if (!trigger) return;\n    triggerContainer.appendChild(trigger.parentNode.removeChild(trigger));\n\n    // eslint-disable-next-line\n    return () => {\r\n      document.removeEventListener('click', checkForFocusLoss);\n    };\n  });\n\n  const getDistanceToEdges = async () => {\n    if (!open) { open = true; }\n    await tick();\n    let rect = contentsWrapper.getBoundingClientRect();\n    return {\n      top: rect.top + (-1 * translateY),\n      bottom: window.innerHeight - rect.bottom + translateY,\n      left: rect.left + (-1 * translateX),\n      right: document.body.clientWidth - rect.right + translateX\n    };\n  };\n\n  const getTranslate = async () => {\n    let dist = await getDistanceToEdges();\n    let x; let\n      y;\n    if (w < 480) {\n      y = dist.bottom;\n    } else if (dist.top < 0) {\n      y = Math.abs(dist.top);\n    } else if (dist.bottom < 0) {\n      y = dist.bottom;\n    } else {\n      y = 0;\n    }\n    if (dist.left < 0) {\n      x = Math.abs(dist.left);\n    } else if (dist.right < 0) {\n      x = dist.right;\n    } else {\n      x = 0;\n    }\n    return { x, y };\n  };\n\n  const doOpen = async () => {\n    const { x, y } = await getTranslate();\n\n    translateX = x;\n    translateY = y;\n    open = true;\n\n    dispatch('opened');\n  };\n</script>\r\n\r\n<svelte:window bind:innerWidth={w} />\r\n<div class=\"sc-popover\" bind:this={popover}>\r\n  <div class=\"trigger\" on:click={doOpen} bind:this={triggerContainer}>\r\n    <slot name=\"trigger\">\r\n    </slot>\r\n  </div>\r\n  <div \r\n    class=\"contents-wrapper\" \r\n    class:visible={open}\r\n    class:shrink={shrink}\r\n    style=\"transform: translate(-50%,-50%) translate({translateX}px, {translateY}px)\" \r\n    bind:this={contentsWrapper}>\r\n    <div class=\"contents\" bind:this={contentsAnimated}>\r\n      <div class=\"contents-inner\">\r\n        <slot name=\"contents\"></slot>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n.sc-popover { \r\n  position: relative;\r\n}\r\n\r\n.contents-wrapper { \r\n  transform: translate(-50%, -50%); \r\n  position: absolute;\r\n  top: 50%; \r\n  left: 50%; \r\n  transition: none;\r\n  z-index: 2;\r\n  display: none;\r\n}\r\n\r\n.contents { \r\n  background: #fff;\r\n  box-shadow: 0px 10px 26px rgba(0,0,0,0.4) ;\r\n  opacity: .8; \r\n  padding-top: 0;\r\n  display: none;\r\n  -webkit-animation: grow 200ms forwards cubic-bezier(.92,.09,.18,1.05);\r\n          animation: grow 200ms forwards cubic-bezier(.92,.09,.18,1.05);\r\n}\r\n\r\n.contents-inner { \r\n  -webkit-animation: fadeIn 400ms forwards; \r\n          animation: fadeIn 400ms forwards;\r\n}\r\n\r\n.contents-wrapper.visible { \r\n  display: block;\r\n}\r\n\r\n.contents-wrapper.visible .contents { \r\n  opacity: 1; \r\n  transform: scale(1);\r\n  display: block;\r\n}\r\n\r\n.contents-wrapper.shrink .contents { \r\n  -webkit-animation: shrink 150ms forwards cubic-bezier(.92,.09,.18,1.05); \r\n          animation: shrink 150ms forwards cubic-bezier(.92,.09,.18,1.05);\r\n}\r\n\r\n@-webkit-keyframes grow { \r\n  0% { \r\n    transform: scale(.9,.1); \r\n    opacity: 0; \r\n  }\r\n  30% { \r\n    opacity: 1; \r\n  }\r\n  100% { \r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n@keyframes grow { \r\n  0% { \r\n    transform: scale(.9,.1); \r\n    opacity: 0; \r\n  }\r\n  30% { \r\n    opacity: 1; \r\n  }\r\n  100% { \r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n@-webkit-keyframes shrink { \r\n  0% { \r\n    transform: scale(1); \r\n    opacity: 1; \r\n  }\r\n  70% { \r\n    opacity: 1; \r\n  }\r\n  100% { \r\n    opacity: 0; \r\n    transform: scale(.9,.1);\r\n  }\r\n}\r\n\r\n@keyframes shrink { \r\n  0% { \r\n    transform: scale(1); \r\n    opacity: 1; \r\n  }\r\n  70% { \r\n    opacity: 1; \r\n  }\r\n  100% { \r\n    opacity: 0; \r\n    transform: scale(.9,.1);\r\n  }\r\n}\r\n\r\n@-webkit-keyframes fadeIn { \r\n  0% { \r\n    opacity: 0; \r\n  }\r\n  50% { \r\n    opacity: 0;\r\n  }\r\n  100% { \r\n    opacity: 1; \r\n  }\r\n}\r\n\r\n@keyframes fadeIn { \r\n  0% { \r\n    opacity: 0; \r\n  }\r\n  50% { \r\n    opacity: 0;\r\n  }\r\n  100% { \r\n    opacity: 1; \r\n  }\r\n}</style>\r\n",
    "<script>\n  import { areDatesEquivalent } from './lib/helpers';\n  import { fly, fade } from 'svelte/transition';\n  import { createEventDispatcher } from 'svelte';\n\n  const dispatch = createEventDispatcher();\n\n  export let days;\n  export let selected;\n  export let highlighted;\n  export let shouldShakeDate;\n  export let direction;\n</script>\r\n\r\n<div \r\n  class=\"week\" \r\n  in:fly|local={{ x: direction * 50, duration: 180, delay: 90 }}\r\n  out:fade|local={{ duration: 180 }}\r\n>\r\n  {#each days as day}\r\n    <div \r\n      class=\"day\" \r\n      class:outside-month={!day.partOfMonth}\r\n      class:is-today={day.isToday}\r\n      class:is-disabled={!day.selectable}\r\n    >\r\n      <button \r\n        class=\"day--label\" \r\n        class:selected={areDatesEquivalent(day.date, selected)}\r\n        class:highlighted={areDatesEquivalent(day.date, highlighted)}\r\n        class:shake-date={shouldShakeDate && areDatesEquivalent(day.date, shouldShakeDate)}\r\n        class:disabled={!day.selectable}\r\n        type=\"button\"\r\n        on:click={() => dispatch('dateSelected', day.date)}\r\n      >\r\n        {day.date.getDate()}\r\n      </button>\r\n    </div>\r\n  {/each}\r\n</div>\r\n\r\n<style>\r\n.week { \r\n  padding: 0;\r\n  margin: 0;\r\n  display: flex;\r\n  flex-flow: row;\r\n  justify-content: space-around;\r\n  -ms-grid-column: 1;\r\n  grid-column: 1; \r\n}\r\n.week:nth-child(6n + 1) { \r\n  -ms-grid-row: 1; \r\n  grid-row: 1; \r\n}\r\n.week:nth-child(6n + 2) { \r\n  -ms-grid-row: 2; \r\n  grid-row: 2; \r\n}\r\n.week:nth-child(6n + 3) { \r\n  -ms-grid-row: 3; \r\n  grid-row: 3; \r\n}\r\n.week:nth-child(6n + 4) { \r\n  -ms-grid-row: 4; \r\n  grid-row: 4; \r\n}\r\n.week:nth-child(6n + 5) { \r\n  -ms-grid-row: 5; \r\n  grid-row: 5; \r\n}\r\n.week:nth-child(6n + 6) { \r\n  -ms-grid-row: 6; \r\n  grid-row: 6; \r\n}\r\n.day { \r\n  margin: 2px;\r\n  color: var(--day-text-color);\r\n  font-weight: bold;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  flex: 1 0 auto;\r\n  height: auto;\r\n  display: flex; \r\n  flex-basis: 0;\r\n}\r\n.day.outside-month, \r\n.day.is-disabled { \r\n  opacity: 0.35;\r\n}\r\n.day:before { \r\n  content: '';\r\n  float: left;\r\n  padding-top: 100%;\r\n}\r\n.day--label { \r\n  color: var(--day-text-color);\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  position: relative;\r\n  border: 1px solid #fff;\r\n  border-radius: 50%; \r\n  margin: 10%;\r\n  padding: 0;\r\n  align-items: center;\r\n  background: var(--day-background-color);\r\n  cursor: pointer;\r\n  transition: all 100ms linear;\r\n  font-weight: normal;\r\n}\r\n.day--label.disabled { \r\n  cursor: default;\r\n}\r\n@media (min-width: 480px) { \r\n  .day--label.highlighted,\r\n  .day--label:not(.disabled):hover { \r\n    background: var(--day-highlighted-background-color);\r\n    border-color: var(--day-highlighted-background-color);\r\n    color: var(--day-highlighted-text-color);\r\n  }\r\n}\r\n.day--label.shake-date { \r\n  -webkit-animation: shake 0.4s 1 linear; \r\n          animation: shake 0.4s 1 linear;\r\n}\r\n.day--label.selected:hover,\r\n.day--label.selected,\r\n.day--label:active:not(.disabled) { \r\n  background-color: var(--highlight-color);\r\n  border-color: var(--highlight-color);\r\n  color: #fff;\r\n}\r\n.day.is-today .day--label, \r\n.day.is-today .day--label:hover { \r\n  opacity: 1; \r\n  background: none;\r\n  border-color: var(--highlight-color);\r\n  color: #000;\r\n}\r\n\r\n@-webkit-keyframes shake {\r\n  0% { transform: translate(7px); }\r\n  20% { transform: translate(-7px); }\r\n  40% { transform: translate(3px); }\r\n  60% { transform: translate(-3px); }\r\n  80% { transform: translate(1px); }\r\n  100% { transform: translate(0px); }\r\n}\r\n\r\n@keyframes shake {\r\n  0% { transform: translate(7px); }\r\n  20% { transform: translate(-7px); }\r\n  40% { transform: translate(3px); }\r\n  60% { transform: translate(-3px); }\r\n  80% { transform: translate(1px); }\r\n  100% { transform: translate(0px); }\r\n}</style>\r\n",
    "<script>\n  import { quintOut } from \"svelte/easing\";\n  import { crossfade } from \"svelte/transition\";\n  import { flip } from \"svelte/animate\";\n\n  // FLIP ANIMATION\n  const [send, receive] = crossfade({\n    duration: d => Math.sqrt(d * 200),\n\n    fallback(node, params) {\n      const style = getComputedStyle(node);\n      const transform = style.transform === \"none\" ? \"\" : style.transform;\n\n      return {\n        duration: 600,\n        easing: quintOut,\n        css: t => `\n\t\t\t\t\ttransform: ${transform} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`\n      };\n    }\n  });\n\n  // DRAG AND DROP\n  let isOver = false;\n  const getDraggedParent = node =>\n    (node.dataset.index && node.dataset) || getDraggedParent(node.parentNode);\n  const start = ev => {\n    ev.dataTransfer.setData(\"source\", ev.target.dataset.index);\n  };\n  const over = ev => {\n    ev.preventDefault();\n    let dragged = getDraggedParent(ev.target);\n    if (isOver !== dragged.id) isOver = JSON.parse(dragged.id);\n  };\n  const leave = ev => {\n    let dragged = getDraggedParent(ev.target);\n    if (isOver === dragged.id) isOver = false;\n  };\n  const drop = ev => {\n    isOver = false;\n    ev.preventDefault();\n    let dragged = getDraggedParent(ev.target);\n    let from = ev.dataTransfer.getData(\"source\");\n    let to = dragged.index;\n    reorder({ from, to });\n  };\n\n  // DISPATCH REORDER\n  import { createEventDispatcher } from \"svelte\";\n  const dispatch = createEventDispatcher();\n  const reorder = ({ from, to }) => {\n    let newList = [...list];\n    newList[from] = [newList[to], (newList[to] = newList[from])][0];\n\n    dispatch(\"sort\", newList);\n  };\n\n  // UTILS\n  const getKey = item => (key ? item[key] : item);\n\n  // PROPS\n  export let list;\n  export let key;\n</script>\n\n<style>\nul {\n  list-style: none;\n  padding: 0;\n}\nli {\n  border: 2px dotted transparent;\n  transition: border 0.1s linear;\n}\n.over {\n  border-color: rgba(48, 12, 200, 0.2);\n}</style>\n\n{#if list && list.length}\n  <ul>\n    {#each list as item, index (getKey(item))}\n      <li\n        data-index={index}\n        data-id={JSON.stringify(getKey(item))}\n        draggable=\"true\"\n        on:dragstart={start}\n        on:dragover={over}\n        on:dragleave={leave}\n        on:drop={drop}\n        in:receive={{ key: getKey(item) }}\n        out:send={{ key: getKey(item) }}\n        animate:flip={{ duration: 300 }}\n        class:over={getKey(item) === isOver}>\n        <slot {item} {index}>\n          <p>{getKey(item)}</p>\n        </slot>\n      </li>\n    {/each}\n  </ul>\n{/if}\n",
    "<script>\r\n    import { onMount } from 'svelte'\r\n    import { fly, scale } from 'svelte/transition'\r\n    import {abbreviate, loadAccommodations, saveAccommodation, removeAccommodation} from './logic/data.js'\r\n    import Fuse from 'fuse.js'\r\n    import { settings, formatText } from './store.js'\r\n\r\n    import Modal from \"./widgets/Modal.svelte\"\r\n\r\n    let accoms = []\r\n    let searchResults = []\r\n\r\n    let accomCreatorOpen = false\r\n    let showConfirmModal = false\r\n    let showDeleteConfirmModal = false\r\n\r\n    let searchTimeout = null\r\n    let searchBox = null\r\n    let accomContentHighlighted = false\r\n\r\n    let newAccom = {\r\n        name: \"\",\r\n        content: \"\"\r\n    }\r\n    let toDelete = \"\"\r\n\r\n    let fuse = null\r\n\r\n    let save = ()=> {\r\n        saveAccommodation(newAccom, $settings.databasedir).then(()=>{\r\n            loadAccommodations($settings.databasedir).then((accomsLoaded)=>{\r\n                accoms = accomsLoaded\r\n                accomCreatorOpen = false\r\n                newAccom = { name: \"\", content: \"\" }\r\n                fuse = new Fuse(accoms, { keys: [\"name\", \"content\"] })\r\n                searchTime(searchBox.value)\r\n            })\r\n        })\r\n    }\r\n\r\n    let searchTime = (search)=> {\r\n        if(searchTimeout) clearTimeout(searchTimeout)\r\n        searchTimeout = setTimeout(()=>{\r\n            if(search == \"\")\r\n                searchResults = accoms\r\n            else\r\n                searchResults = fuse.search(search)\r\n        }, 600)\r\n    }\r\n\r\n    let removeAccom = (id)=> {\r\n        toDelete = id\r\n        showConfirmModal = true\r\n    }\r\n\r\n    let deleteConfirm = (id) => {\r\n        removeAccommodation(id, $settings.databasedir).then(()=>{\r\n            toDelete = \"\"\r\n            showDeleteConfirmModal = true\r\n            showConfirmModal = false\r\n\r\n            loadAccommodations($settings.databasedir).then((accomsLoaded)=>{\r\n                accoms = accomsLoaded\r\n                accomCreatorOpen = false\r\n                newAccom = { name: \"\", content: \"\" }\r\n                fuse = new Fuse(accoms, { keys: [\"name\", \"content\"] })\r\n                searchTime(searchBox.value)\r\n            })\r\n        })\r\n    }\r\n\r\n    onMount(()=>{\r\n        loadAccommodations($settings.databasedir).then((accomsLoaded)=>{\r\n            accoms = accomsLoaded\r\n            searchResults = accoms\r\n\r\n            fuse = new Fuse(accoms, { keys: [\"name\", \"content\"] })\r\n        })\r\n    })\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n#new-accom-form .in { margin-left: .5em; }\r\n#new-accom-form textarea { display: block; margin: 0; min-height: 15vh; }\r\n\r\n.form-halves2 {\r\n    margin-left: .5em;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: .5em;\r\n}\r\n\r\n.form-halves2 label {\r\n    margin-right: 1em;\r\n}\r\n\r\n.form-halves2 input {\r\n    flex-grow: 2;\r\n}\r\n\r\n.accom-content-wrapper {\r\n    position: relative;\r\n}\r\n\r\n.extend {\r\n    width: 20em;\r\n}</style>\r\n\r\n<div style='position: relative;' in:fly={{x: 100, delay: 500}} out:fly={{x: 100}}>\r\n    <div class='switchable'>\r\n        <h2>{formatText($settings.services, true, true)}</h2>\r\n    </div>\r\n    <div class='form-halves'>\r\n        <label for=\"search\">Find: </label>\r\n        <input bind:this={searchBox} type=\"text\" id='search' on:keyup={()=>{searchTime(searchBox.value)}}>\r\n    </div>\r\n    <div>Search by {formatText($settings.services, false, false)} title or description.</div>\r\n\r\n    <div class=\"mt-2 mb-1\">\r\n        <a href=\"newAccom\" on:click|preventDefault={()=>{accomCreatorOpen = true}}>New {formatText($settings.services, false, false)}</a>\r\n    </div>\r\n    \r\n    {#if searchResults.length}\r\n        {#each searchResults as accom}\r\n            <div class='accommodation whitebox'>\r\n                <h4>{accom.name}</h4>\r\n                <p>{abbreviate(accom.content, 200)}</p>\r\n                <div class='close' on:click={()=>{ removeAccom(accom._id) }}>&times;</div>\r\n                <div class='close edit' on:click={()=>{ newAccom = accom; accomCreatorOpen = true }}>&#9998;</div>\r\n            </div>\r\n        {/each}\r\n    {:else}\r\n        <p>No {formatText($settings.services, true, false)} found. :-(</p>\r\n    {/if}\r\n</div>\r\n\r\n{#if accomCreatorOpen}\r\n    <Modal on:forceClose={()=>{ accomCreatorOpen = false; newAccom = { name: \"\", content: \"\" } }}>\r\n        <h3 class='extend'>{formatText($settings.services, false, true)} Details</h3>\r\n        <form id='new-accom-form'>\r\n            <div class=\"form-halves2\">\r\n                <label for='name'>Name</label>\r\n                <input type=\"text\" id='name' bind:value={newAccom.name}>\r\n            </div>\r\n            <div class=\"in\">\r\n                <label for=\"content\">Content</label><br/>\r\n                <div class=\"accom-content-wrapper\">\r\n                    {#if accomContentHighlighted}\r\n                        <div transition:scale class='remaining-characters'>\r\n                            { newAccom.content.length ? 1200 - newAccom.content.length : 1200}\r\n                        </div>\r\n                    {/if}\r\n                    <textarea type=\"text\" id='content' bind:value={newAccom.content} rows=\"5\" maxlength=\"1200\" on:focus={()=>{accomContentHighlighted = true}} on:blur={()=>{accomContentHighlighted = false}}></textarea>\r\n                </div>\r\n            </div>\r\n\r\n            <button class='centered blue' type='submit' on:click|preventDefault={()=> {save(); accomCreatorOpen = false} }>OK</button>\r\n        </form>\r\n    </Modal>\r\n{/if}\r\n\r\n{#if showConfirmModal}\r\n    <Modal on:forceClose={()=>{ showConfirmModal = false; toDelete = \"\" }}>\r\n        <h3>Are you sure?</h3>\r\n        <p>If you delete this {formatText($settings.services, false, false)}, it will not be recoverable. This will not affect {formatText($settings.students, false, false)}'s committed {formatText($settings.services, false, false)} history.</p>\r\n        <div class=\"align-ends\">\r\n            <button class='centered' type='submit' on:click|preventDefault={()=> { deleteConfirm(toDelete) }}>Delete it</button>\r\n            <button class='centered blue' type='submit' on:click|preventDefault={()=> {  showConfirmModal = false; toDelete = \"\" } }>Never mind</button>\r\n        </div>\r\n    </Modal>\r\n{/if}\r\n\r\n{#if showDeleteConfirmModal}\r\n    <Modal on:forceClose={()=>{ showDeleteConfirmModal = false }}>\r\n        <h3>All done!</h3>\r\n        <p>The indicated {formatText($settings.services, false, false)} has been removed from the list.</p>\r\n        <button class='centered blue' type='submit' on:click|preventDefault={()=> {  showDeleteConfirmModal = false } }>OK</button>\r\n    </Modal>\r\n{/if}",
    "<script>\r\n    import { onMount } from 'svelte'\r\n    import { fade, fly } from 'svelte/transition'\r\n    import Write from './Write.svelte'\r\n    import Students from './Students.svelte'\r\n    import Accommodations from './Accommodations.svelte'\r\n    import Settings from './Settings.svelte'\r\n    import Record from './Record.svelte'\r\n    import LOATemplate from './LOATemplate.svelte'\r\n    import Reports from './Reports.svelte'\r\n    import {settings, formatText} from './store.js'\r\n    import Modal from './widgets/Modal.svelte'\r\n\r\n    let showAuthModal = false\r\n    let showPassModal = false\r\n\r\n    let curPassword = \"\"\r\n    let pagePasswords = \"\"\r\n    let pageBuffer = \"\"\r\n\r\n    let page = {\r\n        '#write': Write,\r\n        \"#students\": Students,\r\n        '#accommodations': Accommodations,\r\n        '#record': Record,\r\n        '#settings': Settings,\r\n        \"#pdf\": LOATemplate,\r\n        \"#reports\": Reports\r\n    }\r\n\r\n    let viewarea\r\n    let curPage = \"\"\r\n\r\n    let checkForPagePassword = (page)=> {\r\n        let pwords = []\r\n\r\n        if($settings.passwords && Array.isArray($settings.passwords)) {\r\n            $settings.passwords.forEach(pw=>{\r\n                if(pw) {\r\n                    pw.pages.forEach(p=>{\r\n                        if(p.value == page) pwords.push(pw.password)\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n        return pwords\r\n    }\r\n\r\n    let changePage = (page, prompt = true)=> {\r\n        pagePasswords = checkForPagePassword(page)\r\n        showPassModal = false\r\n\r\n        //Check if the page is included in any password pages list\r\n        if(pagePasswords.length > 0) {\r\n            if(curPassword && pagePasswords.includes(curPassword))\r\n                curPage = page\r\n            else if(prompt) { \r\n                showPassModal = true\r\n                pageBuffer = page\r\n            }\r\n            else {\r\n                showAuthModal = true\r\n                window.location.hash =  \"\"\r\n            }\r\n        }\r\n        else curPage = page\r\n    }\r\n\r\n    window.onhashchange = ()=>{\r\n        changePage(window.location.hash.split('/')[0])\r\n    }\r\n\r\n    onMount(()=> {\r\n        window.location.hash = '#'\r\n        setTimeout(()=>{\r\n            window.location.hash = '#write'\r\n        }, 300)\r\n\r\n        changePage('#write')\r\n    })\r\n</script>\r\n\r\n<style>\r\n#main {\r\n    display: -ms-grid;\r\n    display: grid;\r\n    width: 100%; height: 100vh;\r\n    -ms-grid-columns: auto 1fr;\r\n    grid-template-columns: auto 1fr;\r\n    -ms-grid-rows: auto 1fr;\r\n    grid-template-rows: auto 1fr;\r\n    align-content: stretch;\r\n    grid-column-gap: 2em;\r\n    margin: 0; padding: 0;\r\n}\r\n\r\n#main .inner {\r\n    padding-bottom: 4em;\r\n    background-image: url(\"./images/hexagons.svg\");\r\n    background-position: 0 5%;\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n}\r\n\r\n@media screen and (min-width: 1000px) {\r\n    #main .constrain {\r\n        margin-left: 10%;\r\n    }\r\n}\r\n\r\n#header {\r\n    -ms-grid-column: 1;\r\n    -ms-grid-column-span: 2;\r\n    grid-column: 1 / span 2;\r\n    padding: 0;\r\n    text-align: center;\r\n    color: #C33C54;\r\n    background-color: #8EE3EF;\r\n    background: linear-gradient(0deg, #6adfee 0%,rgb(167, 230, 238) 100%);\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    box-shadow: 0 0 3px rgba(0,0,0,.5);\r\n    z-index: 1;\r\n}\r\n\r\n#header h1 {\r\n    margin: .5em 0;\r\n}\r\n\r\n#logo {\r\n    max-width: 3em;\r\n    max-height: 3em;\r\n    margin-right: 1em;\r\n}\r\n\r\nnav {\r\n    position: -webkit-sticky;\r\n    position: sticky;\r\n    top: 2em;\r\n    background-color: #254E70;\r\n    width: 20em;\r\n    max-width: 25vw;\r\n    color: #8EE3EF;\r\n    z-index: 1;\r\n}\r\n\r\nnav li a {\r\n    display: block;\r\n    font-weight: bold;\r\n    color: #8EE3EF;\r\n    padding: .5em;\r\n    border-radius: .25em;\r\n}\r\n\r\nnav ul {\r\n    list-style-type: none;\r\n    margin: 0; padding: 2em 1em;\r\n    position: relative;\r\n    margin-top: 1em;\r\n}\r\n\r\nnav li {\r\n    margin: .5em 0;\r\n    border-radius: .25em;\r\n}\r\n\r\nnav li.active {\r\n    background-color: #37718E;\r\n}\r\n\r\nnav li:hover {\r\n    background-color: #8EE3EF;\r\n    color: #C33C54;\r\n}\r\n\r\nnav li:hover a {\r\n    color: #C33C54;\r\n}\r\n\r\n#menucurl {\r\n    width: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: -1px;\r\n}\r\n\r\n.constrain {\r\n    max-width: 40em;\r\n}\r\n\r\n:global(h1, h2, h3, h4) {\r\n    margin-bottom: .5em;\r\n    margin-top: 1.5em;\r\n    font-family: 'Montserrat', sans-serif;\r\n}\r\n\r\n:global(h1) {\r\n    font-size: 3em;\r\n    color: #C33C54;\r\n}\r\n\r\n:global(h2) {\r\n    font-size: 2em;\r\n    color: #C33C54;\r\n}\r\n\r\n:global(h3) {\r\n    font-size: 1.5em;\r\n    color: #37718E;\r\n}\r\n\r\n:global(h4) {\r\n    font-size: 1em;\r\n    font-weight: bold;\r\n    color: black;\r\n}\r\n\r\n:global(label) {\r\n    margin-right: 1em;\r\n    margin-bottom: .5em;\r\n}\r\n\r\n:global(.form-halves) {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    max-width: 20em;\r\n    margin-bottom: .5em;\r\n    border-radius: .25em;\r\n    padding: .1em .5em;\r\n    position: relative;\r\n    left: -.5em;\r\n}\r\n\r\n:global(.form-halves:hover) {\r\n    background-color: #8EE3EF;\r\n}\r\n\r\n:global(.form-halves label) {\r\n    margin-bottom: 0;\r\n}\r\n\r\n:global(input, textarea) {\r\n    padding: .2em .5em;\r\n    font-size: 1em;\r\n    border-radius: .25em;\r\n    box-shadow: none;\r\n    border-width: 1px;\r\n    background-color: rgba(255,255,255,.5);\r\n}\r\n\r\n:global(.form-halves:hover input, input:hover, textarea:hover, input:focus, textarea:focus) {\r\n    background-color: white;\r\n    border-color: #37718E;\r\n}\r\n\r\n:global(input, textarea, button) {\r\n    font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;\r\n}\r\n\r\n:global(a, button.just-text) {\r\n    color: #C33C54;\r\n    cursor: pointer;\r\n}\r\n\r\n:global(a:hover, button.just-text:hover) {\r\n    text-decoration: underline;\r\n}\r\n\r\n:global(.mt-0) {\r\n    margin-top: 0;\r\n}\r\n\r\n:global(.mt-2) {\r\n    margin-top: 2em;\r\n}\r\n\r\n:global(.mb-1) {\r\n    margin-bottom: 1em;\r\n}\r\n\r\n:global(button.just-text:focus) {\r\n    border: none;\r\n}\r\n\r\n:global(textarea) {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n}\r\n\r\n:global(input:disabled) {\r\n    border-color: gray;\r\n    color: gray;\r\n}\r\n\r\n:global(.contents-wrapper) {\r\n    position: fixed !important;\r\n}\r\n\r\n:global(button[type=submit]) {\r\n    border: none;\r\n    border-radius: .25em;\r\n    background-color: #C33C54;\r\n    color: white;\r\n    padding: .5em;\r\n    display: block;\r\n    font-weight: bold;\r\n    margin: 1em 0;\r\n    font-size: 1em;\r\n    cursor: pointer;\r\n}\r\n\r\n:global(button[type=submit].centered) {\r\n    margin: 1em auto;\r\n}\r\n\r\n:global(div.centered) {\r\n    text-align: center;\r\n}\r\n\r\n:global(button.blue) {\r\n    background-color: #37718E;\r\n}\r\n\r\n:global(button:hover) {\r\n    -webkit-filter: brightness(1.2);\r\n            filter: brightness(1.2);\r\n}\r\n\r\n:global(.align-ends) {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n:global(.align-ends button[type=submit]) {\r\n    margin: 1em .5em;\r\n}\r\n\r\n:global(.close) {\r\n    position: absolute;\r\n    top: 0;\r\n    right: .5em;\r\n    color: gray;\r\n    font-size: 2em;\r\n    cursor: pointer;\r\n}\r\n\r\n:global(.edit) {\r\n    font-size: 1.1em;\r\n    right: 2em;\r\n    top: .4em;\r\n}\r\n\r\n:global(.close:hover) {\r\n    color: #C33C54;\r\n}\r\n\r\n:global(.whitebox) {\r\n    border-radius: 5px;\r\n    padding: .5em;\r\n    background-color: rgba(255,255,255,.5);\r\n    border-color: gray;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    margin: 0 0 .5em 0;\r\n    padding-right: 3em;\r\n    position: relative;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n}\r\n\r\n:global(.whitebox:hover) {\r\n    background-color: white;\r\n    border-color: #37718E;\r\n}\r\n\r\n:global(.whitebox h4) {\r\n    margin-top: 0;\r\n    padding-right: 1em;\r\n}\r\n\r\n:global(.whitebox p) {\r\n    margin: 0;\r\n}\r\n\r\n:global(.remaining-characters) {\r\n    position: absolute;\r\n    top: -1.5em;\r\n    right: .5em;\r\n    z-index: 1;\r\n    border-radius: .25em;\r\n    padding: .5em;\r\n    background-color: #8EE3EF;\r\n    color: #C33C54;\r\n    font-weight: bold;\r\n    border-color: #C33C54;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n}\r\n\r\n:global(#accoms-list) {\r\n    list-style: none;\r\n    padding-left: 0;\r\n    width: 100%;\r\n}\r\n\r\n:global(.loading) {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 90vh;\r\n}\r\n\r\n:global(.inline button) {\r\n    display: inline;\r\n    margin-right: 1em;\r\n}\r\n\r\n:global(h1 + h2, h2 + h3) {\r\n    margin-top: 0;\r\n}</style>\r\n\r\n<section id=\"main\">\r\n    <div id=\"header\">\r\n        <svg id='logo' version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"174\" height=\"200\" viewbox=\"0 0 173.20508075688772 200\" style=\"filter: drop-shadow(rgba(255, 255, 255, 0.5) 0px 0px 10px);\"><path fill=\"#C33C54\" d=\"M86.60254037844386 0L173.20508075688772 50L173.20508075688772 150L86.60254037844386 200L0 150L0 50Z\"></path></svg>\r\n        <h1>Accommodate</h1>\r\n    </div>\r\n    <nav>\r\n        <svg id='menucurl' viewBox=\"0 0 200 50\"><g transform=\"translate(0,-247)\"><path d=\"M 0,247 H 200 C 87.745309,251.08461 12.341004,241.11661 0,297 Z\" style=\"opacity:1;fill:#6adfee;fill-opacity:1;stroke:none;stroke-width:0.26499999;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\"/></g></svg>\r\n        <ul>\r\n            <li class:active={curPage == '#write'}><a href='#write'>Write {formatText($settings.abbrev, false, false, true)}</a></li>\r\n            <li class:active={curPage == '#students' || curPage == '#record'}><a href='#students'>{formatText($settings.students, true, true)}</a></li>\r\n            <li class:active={curPage == '#accommodations'}><a href='#accommodations'>{formatText($settings.services, true, true)}</a></li>\r\n            <li class:active={curPage == '#pdf'}><a href='#pdf'>{formatText($settings.abbrev, false, false, true)} Template</a></li>\r\n            <li class:active={curPage == '#settings'}><a href='#settings'>Settings</a></li>\r\n            <!-- <li class:active={curPage == '#reports'}><a href='#reports'>Reports</a></li> -->\r\n        </ul>\r\n    </nav>\r\n    <div class=\"inner\" bind:this={viewarea}>\r\n        <div class=\"constrain\">\r\n            <svelte:component this={page[curPage]} on:scrollUp={()=>{ viewarea.scrollTop = 0 }}/>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n{#if showAuthModal}\r\n    <Modal on:forceClose={()=>{ showAuthModal = false }}>\r\n        <h3>Unauthorized</h3>\r\n        <p>You are not authorized to view this content based on the password you provided.</p>\r\n        <button class='centered blue' type='submit' on:click|preventDefault={ ()=> {showAuthModal = false} }>OK</button>\r\n    </Modal>\r\n{/if}\r\n\r\n{#if showPassModal}\r\n    <Modal on:forceClose={()=>{ showPassModal = false }}>\r\n        <h3>Password</h3>\r\n        <p>Enter a password to view this content.</p>\r\n        <div class=\"inline centered\">\r\n            <input type=\"password\" bind:value={curPassword}><br>\r\n            <button class='blue' type='submit' on:click|preventDefault={ ()=> { changePage(pageBuffer, false) } }>OK</button>\r\n            <button type='submit' on:click|preventDefault={ ()=> {showPassModal = false} }>Cancel</button>\r\n        </div>\r\n    </Modal>\r\n{/if}",
    "<script>\r\n    import { fly, scale } from 'svelte/transition'\r\n    import {onMount, onDestroy} from 'svelte'\r\n    import { settings, formatText } from './store.js'\r\n    import { createEventDispatcher } from 'svelte';\r\n    const dispatch = createEventDispatcher()\r\n    export let pdfSettings\r\n\r\n    let editor\r\n    let table\r\n    let addTable\r\n    let tiny = tinymce\r\n    export let content\r\n\r\n    function insertVariable(content) {\r\n        tiny.get(\"editor\").execCommand(\"mceInsertContent\", false, content)\r\n    }\r\n\r\n    onMount(()=>{\r\n        tinymce.init({\r\n            selector: \"#editor\",\r\n            plugins:  `\r\n                paste autolink directionality code \r\n                image link media \r\n                codesample table hr anchor toc insertdatetime advlist \r\n                lists imagetools textpattern\r\n            `,\r\n            menubar: false,\r\n            toolbar: `\r\n                undo redo | fontselect fontsizeselect forecolor\r\n                formatselect blockquote | bold italic underline | \r\n                alignleft aligncenter alignright | hr insertdatetime | link image | \r\n                outdent indent | numlist bullist | table tabledelete | \r\n                tableprops tablerowprops tablecellprops | \r\n                tableinsertrowbefore tableinsertrowafter tabledeleterow | \r\n                tableinsertcolbefore tableinsertcolafter tabledeletecol\r\n            `,\r\n            placeholder: pdfSettings.placeholder,\r\n            inline_styles: true\r\n        })\r\n    })\r\n\r\n    onDestroy(()=> {\r\n        tiny.get(\"editor\").destroy()\r\n    })\r\n        \r\n</script>\r\n\r\n<style>\r\n#container {\r\n    margin-top: 2em;\r\n    width: 612pt;\r\n}\r\n\r\n#editor {\r\n    background-color: white;\r\n    min-height: 100pt;\r\n    max-height: 300pt;\r\n    overflow-y: auto;\r\n}\r\n\r\n.inline button {\r\n    display: inline;\r\n    margin: 1em 0;\r\n}\r\n\r\n.variableButton {\r\n    padding: .25em .5em;\r\n    background-color: #8EE3EF;\r\n    color: #37718E;\r\n    font-weight: bold;\r\n    border-radius: 5px;\r\n    margin: 0 .25em;\r\n}\r\n\r\n.variableButton:hover {\r\n    cursor: pointer;\r\n    -webkit-filter: brightness(1.2);\r\n            filter: brightness(1.2);\r\n}</style>\r\n\r\n<!-- <h3>Editing \"{pdfSettings.editing}\"</h3>\r\n{#if pdfSettings.editing == 'header'}\r\n    <p>The header appears at the top of each page.</p>\r\n{:else if pdfSettings.editing == 'footer'}\r\n    <p>The footer appears at the bottom of each page.</p>\r\n{/if} -->\r\n\r\n<p>Variables:</p>\r\n<div>\r\n    <span on:click={()=> {insertVariable(\"${first name}\")}} class='variableButton'>First name</span>\r\n    <span on:click={()=> {insertVariable(\"${last name}\")}} class='variableButton'>Last name</span>\r\n    <span on:click={()=> {insertVariable(\"${id}\")}} class='variableButton'>ID</span>\r\n    <span on:click={()=> {insertVariable(\"${date}\")}} class='variableButton'>Date</span>\r\n    <span on:click={()=> {insertVariable(\"${\" + formatText($settings.services, true, false) + \"}\")}} class='variableButton'>{formatText($settings.services, true, true)}</span>\r\n    <span on:click={()=> {insertVariable(\"${\" + formatText($settings.students, false, false) + \" notes}\")}} class='variableButton'>{formatText($settings.students, false, true)} notes</span>\r\n</div>\r\n\r\n<div id=\"container\">\r\n    <div id='editor'>{@html content}</div>\r\n</div>\r\n\r\n<div class='inline'>\r\n    <button class='blue' type='submit' on:click|preventDefault={()=> {dispatch('save', tiny.get(\"editor\").getContent()); } }>Save</button>\r\n    <button class='blue' type='submit' on:click|preventDefault={()=> {dispatch('preview')}}>Preview</button>\r\n    <!-- <button type='submit' on:click|preventDefault={()=> {dispatch('forceClose')} }>Cancel</button> -->\r\n</div>",
    "<script>\r\n    import { onMount } from 'svelte'\r\n    import { fly, scale } from 'svelte/transition'\r\n    import { loadRecords } from './logic/data.js'\r\n    import { settings, formatText } from './store.js'\r\n    import Modal from \"./widgets/Modal.svelte\"\r\n    import { printPDF } from './logic/pdf.js'\r\n    const {shell} = require('electron')\r\n\r\n    const fs = require('fs')\r\n    const app = require('electron').remote.app\r\n\r\n    let sid = \"\"\r\n    let record = null\r\n\r\n    let currentRecord = {}\r\n    let recordModalOpen = false\r\n\r\n    let bodyData\r\n\r\n    function printDoc(data) {\r\n        let formattedData = [\r\n            { key: \"first name\", value: data.student.fname},\r\n            { key: \"last name\", value: data.student.lname},\r\n            { key: \"id\", value: data.student._id },\r\n            { key: \"date\", value: (new Date(data.dateUpdated).getMonth() + 1) + \"/\" + new Date(data.dateUpdated).getDate() + \"/\" + new Date(data.dateUpdated).getFullYear() },\r\n            { key: formatText($settings.services, true, false), value: data.accoms },\r\n            { key: formatText($settings.students, false, false) + \" notes\", value: data.studentNotes },\r\n        ]\r\n\r\n        printPDF(\" \", bodyData, \" \", formattedData).then(html=> {\r\n            fs.writeFileSync($settings.systemdir + '/target.html', html)\r\n            shell.openItem($settings.systemdir + \"/target.html\")\r\n        })\r\n        .catch(e=> {\r\n            console.log(e)\r\n            previewModalOpen = false\r\n            docErrorModalOpen = true\r\n        })\r\n\r\n        currentRecord = {}\r\n    }\r\n\r\n    onMount(()=>{\r\n        sid = window.location.hash.split('/')[1]\r\n        loadRecords(sid, $settings.databasedir).then((result)=> {\r\n            record = result\r\n        })\r\n\r\n        bodyData = fs.existsSync($settings.systemdir + '/body.accom') ? fs.readFileSync($settings.systemdir + '/body.accom') : \"\"\r\n    })\r\n\r\n</script>\r\n\r\n<style>\r\n#accoms-list {\r\n    width: 40em;\r\n}\r\n\r\n.record-inner {\r\n    margin-top: 2em;\r\n    max-height: 70vh;\r\n    overflow-y: auto;\r\n}\r\n\r\n.record-inner h3 {\r\n    margin-top: 0;\r\n}</style>\r\n\r\n{#if record}\r\n    <div style='position: relative;' in:fly={{x: 100, delay: 500}} out:fly={{x: 100}}>\r\n        <h2>Record for {record.student.lname + \", \" + record.student.fname + \" (\" + record.student._id + \")\"}</h2>\r\n        <a href=\"#students\">Back to {formatText($settings.students, true, false)}</a>\r\n        <h3>Current {formatText($settings.services, true, true)}</h3>\r\n        <ul>\r\n            {#if record.accoms && record.accoms.length}\r\n                {#each record.accoms as accom}\r\n                    <li>{accom.name}</li>\r\n                {/each}\r\n            {:else}\r\n                <li>None listed</li>\r\n            {/if}\r\n        </ul>\r\n\r\n        <h3>{formatText($settings.abbrev, false, false, true)} Documents</h3>\r\n        <ul>\r\n            {#if record.records && record.records.length}\r\n                {#each record.records as doc}\r\n                    <li>\r\n                        <a href={\"#record/\" + record.records._id} on:click|preventDefault={()=>{ currentRecord = doc; recordModalOpen = true }}>\r\n                            {\"Issued \" + (new Date(doc.dateUpdated).getMonth() + 1) + \"/\" + new Date(doc.dateUpdated).getDate() + \"/\" + new Date(doc.dateUpdated).getFullYear()}\r\n                        </a>\r\n                    </li>\r\n                {/each}\r\n            {:else}\r\n                <li>None listed</li>\r\n            {/if}\r\n        </ul>\r\n    </div>\r\n{/if}\r\n\r\n{#if recordModalOpen}\r\n    <Modal on:forceClose={()=>{ recordModalOpen = false; currentRecord = {} }}>\r\n        <div class='record-inner'>\r\n            <h3>{new Date(currentRecord.dateUpdated).getMonth()+1 + \"/\" + new Date(currentRecord.dateUpdated).getDate() + \"/\" + new Date(currentRecord.dateUpdated).getFullYear()}</h3>\r\n            \r\n            <p class='mt-0'>\r\n                <strong>Date updated: </strong>{new Date(currentRecord.dateUpdated).getMonth()+1 + \"/\" + new Date(currentRecord.dateUpdated).getDate() + \"/\" + new Date(currentRecord.dateUpdated).getFullYear()}\r\n            </p>\r\n\r\n            <h4>{formatText($settings.students, false, true)} Information</h4>\r\n            <p class='mt-0'>\r\n                <strong>Name: </strong>{currentRecord.student.lname + \", \" + currentRecord.student.fname}\r\n                <br>\r\n                <strong>ID: </strong>{currentRecord.student._id}\r\n            </p>\r\n        \r\n            <h4>Approved {formatText($settings.services, true, true)}</h4>\r\n            <ul id='accoms-list'>\r\n                {#if currentRecord.accoms.length > 0}\r\n                    {#each currentRecord.accoms as accom}\r\n                        <li class='whitebox'>\r\n                            <h4>{accom.name}</h4>\r\n                            <p>{accom.content}</p>\r\n                        </li>\r\n                    {/each}\r\n                {:else}\r\n                    <li>No {formatText($settings.services, true, false)} listed</li>\r\n                {/if}\r\n            </ul>\r\n        \r\n            <h4>{formatText($settings.students, false, true)} Notes</h4>\r\n            <p class='mt-0'>{currentRecord.studentNotes ? currentRecord.studentNotes : \"Nothing specified\"}</p>\r\n\r\n            <div class=\"align-ends\">\r\n                <button class='centered blue' type='submit' on:click|preventDefault={()=> {  recordModalOpen = false; currentRecord = {} } }>OK</button>\r\n                <button class='centered' type='submit' on:click|preventDefault={()=> {  recordModalOpen = false; printDoc(currentRecord) } }>Print</button>\r\n            </div>\r\n        </div>\r\n    </Modal>\r\n{/if}\r\n",
    "<script>\r\n    import { fly, scale } from 'svelte/transition'\r\n    import { settings, changeSettings, formatText } from './store.js'\r\n    import Modal from \"./widgets/Modal.svelte\"\r\n    const {dialog} = require('electron').remote\r\n    import {onMount} from 'svelte'\r\n    const fs = require('fs')\r\n    const app = require('electron').remote.app\r\n\r\n    const getFolder = (alter)=> {\r\n        dialog.showOpenDialog({\r\n            properties: ['openDirectory']\r\n        }).then(res=> {\r\n            if(res.filePaths[0] != undefined)\r\n                $settings[alter] = res.filePaths[0]\r\n        })\r\n    }\r\n    \r\n    let showPagesModal = false\r\n    let showBackupSuccessfulModal = false\r\n    let showRestoreSuccessfulModal = false\r\n    let clearDataModal = false\r\n    let showDeletedModal = false\r\n\r\n    let pages = [\r\n        {name: \"Write \" + formatText($settings.abbrev, false, false, true), value: \"#write\", selected: false},\r\n        {name: formatText($settings.students, true, true), selected: false, value: \"#students\"},\r\n        {name: formatText($settings.services, true, true), selected: false, value: \"#accommodations\"},\r\n        {name: formatText($settings.abbrev, false, false, true) + \" Template\", selected: false, value: \"#pdf\"},\r\n        {name: \"Settings\", selected: false, value: '#settings'},\r\n        {name: \"Reports\", selected: false, value: '#reports'},\r\n    ]\r\n\r\n    let saveTimeout = null\r\n    let curPassIndex = 0\r\n\r\n    let save = ()=> {\r\n        console.log('saving')\r\n        if(saveTimeout) clearTimeout(saveTimeout)\r\n        saveTimeout = setTimeout(()=> {\r\n            changeSettings($settings)\r\n        }, 3000)\r\n    }\r\n\r\n    let addPassword = ()=> {\r\n        if(!$settings.passwords) $settings.passwords = []\r\n        $settings.passwords.push({\r\n            password: \"\",\r\n            pages: []\r\n        })\r\n\r\n        $settings.passwords = $settings.passwords\r\n    }\r\n\r\n    let openPagesDialog = (password, index)=> {\r\n        //Clear selections\r\n        pages.forEach((page)=> {\r\n            //Deselect the page by default\r\n            page.selected = false\r\n\r\n            //If password object already has pages selected, select them in the pages array\r\n            if(password.pages) {\r\n                password.pages.forEach(pwordpage=>{\r\n                    if(pwordpage.name == page.name) {\r\n                        page.selected = true\r\n                    }\r\n                })\r\n            }\r\n        })\r\n        \r\n        curPassIndex = index\r\n        showPagesModal = true\r\n    }\r\n\r\n    let savePageSettings = ()=> {\r\n        $settings.passwords[curPassIndex].pages = pages.filter(page=>page.selected)\r\n        showPagesModal = false\r\n    }\r\n\r\n    function backup() {\r\n        let now = new Date()\r\n        let backupDate = (now.getMonth() + 1) + \".\" + now.getDate() + \".\" + now.getFullYear() + \"-\" + now.getTime()\r\n\r\n        if(!fs.existsSync($settings.backupdir + '/' + backupDate)) {\r\n            fs.mkdirSync($settings.backupdir + '/' + backupDate)\r\n        }\r\n\r\n        fs.copyFile($settings.databasedir + '/accoms.db', $settings.backupdir + '/' + backupDate + '/accoms.db', fs.constants.COPYFILE_EXCL, (err)=> {\r\n            if(err) throw(err)\r\n            fs.copyFile($settings.databasedir + '/loas.db', $settings.backupdir + '/' + backupDate + '/loas.db', fs.constants.COPYFILE_EXCL, (err)=> {\r\n                if(err) throw(err)\r\n                fs.copyFile($settings.databasedir + '/records.db', $settings.backupdir + '/' + backupDate + '/records.db', fs.constants.COPYFILE_EXCL, (err)=> {\r\n                    if(err) throw(err)\r\n                    showBackupSuccessfulModal = true\r\n                })\r\n            })\r\n        })\r\n    }\r\n\r\n    function restoreBackup() {\r\n        dialog.showOpenDialog({\r\n            properties: ['openDirectory'],\r\n            defaultPath: $settings.backupdir\r\n        }).then(res=> {\r\n            if(res.filePaths[0] != undefined) {\r\n                let restoreFrom = res.filePaths[0]\r\n\r\n                fs.copyFile(restoreFrom + \"/accoms.db\", $settings.databasedir + '/accoms.db', fs.constants.COPYFILE_FICLONE, (err)=> {\r\n                    if(err) throw(err)\r\n                    fs.copyFile(restoreFrom + \"/loas.db\", $settings.databasedir + '/loas.db', fs.constants.COPYFILE_FICLONE, (err)=> {\r\n                        if(err) throw(err)\r\n                        fs.copyFile(restoreFrom + '/records.db', $settings.databasedir + '/records.db', fs.constants.COPYFILE_FICLONE, (err)=> {\r\n                            if(err) throw(err)\r\n                            showRestoreSuccessfulModal = true\r\n                        })\r\n                    })\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    function clearData() {\r\n        clearDataModal = false\r\n        \r\n        fs.unlink($settings.databasedir + \"/accoms.db\", ()=> {\r\n            fs.unlink($settings.databasedir + \"/loas.db\", ()=> {\r\n                fs.unlink($settings.databasedir + \"/records.db\", ()=> {\r\n                    showDeletedModal = true\r\n                })\r\n            })\r\n        })\r\n    }\r\n\r\n    $: $settings, save()\r\n\r\n</script>\r\n\r\n<style>\r\n.select-pages {\r\n    cursor: pointer;\r\n}\r\n\r\n#pages-list {\r\n    display: -ms-grid;\r\n    display: grid;\r\n    -ms-grid-columns: 1fr 1fr;\r\n    grid-template-columns: 1fr 1fr;\r\n    overflow-y: scroll;\r\n    list-style: none;\r\n    grid-gap: 1em;\r\n    padding-left: 0;\r\n    min-width: 30em;\r\n}\r\n\r\n#pages-list li {\r\n    background-color: #C33C54;\r\n    color: white;\r\n    padding: .5em;\r\n    text-align: center;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n}\r\n\r\n#pages-list li:hover {\r\n    -webkit-filter: brightness(1.2);\r\n            filter: brightness(1.2);\r\n}\r\n\r\n#pages-list li.selected {\r\n    background-color: #8EE3EF;\r\n    color: #37718E;\r\n    font-weight: bold;\r\n}</style>\r\n\r\n<div style='position: relative;' in:fly={{x: 100, delay: 500}} out:fly={{x: 100}}>\r\n    <h2>Settings</h2>\r\n    <h3>Terminology</h3>\r\n    <p>What do you call the document this app helps you to create? (Use an abbreviation or common name if possible; for example, \"LOA\" for \"Letter of Accommodation\")</p>\r\n    <input type=\"text\" bind:value={$settings.abbrev}>\r\n    \r\n    <p>What do you call the services you provide? (eg accommodations, services, supports)</p>\r\n    <input type=\"text\" bind:value={$settings.services}>\r\n    \r\n    <p>What do you call the people you serve? (eg students, clients, customers)</p>\r\n    <input type=\"text\" bind:value={$settings.students}>\r\n\r\n    <h2>Security</h2>\r\n    <p>You can set up passwords for the various pages of Accommodate to implement nominal security. <strong>This is not strong security, and will not prevent access to a determined attacker.</strong> All settings can be overridden easily by altering app files. It is expected that this app will be stored in a location with sufficient access restrictions. This password system is only meant to discourage accidental alteration to app settings and data by unauthorized (but non-malicious) users.</p>\r\n    {#if $settings.passwords}\r\n        {#each $settings.passwords as password, i}\r\n            <div class='passwords whitebox'>\r\n                <input type='text' placeholder=\"Password\" bind:value={password.password} on:change={()=>{$settings = $settings}}>\r\n                <input type=\"text\" class='select-pages' placeholder='Pages' value={password.pages.map(el => el.name).join(', ')} on:click={()=>{openPagesDialog(password, i)}} readonly>\r\n                <div class='close' on:click={()=>{ $settings.passwords.splice(i,1); $settings = $settings }}>&times;</div>\r\n            </div>\r\n        {/each}\r\n    {/if}\r\n    <button type='submit' class='blue' on:click|preventDefault={addPassword}>Add password</button>\r\n\r\n    <h2>Data</h2>\r\n    <h3>Sources</h3>\r\n    <p>System data is located here: <a href='changepath' on:click|preventDefault={()=>{getFolder('systemdir')}}>{$settings.systemdir}</a></p>\r\n    <p>The database files for this app are located here: <a href='changepath' on:click|preventDefault={()=>{getFolder('databasedir')}}>{$settings.databasedir}</a></p>\r\n    <p>The database backups are located here: <a href='changepath' on:click|preventDefault={()=>{getFolder('backupdir')}}>{$settings.backupdir}</a></p>\r\n    <h3>Manage Data</h3>\r\n    <!-- <p><button type='submit' class='blue' on:click|preventDefault={()=>{}}>Import data</button>You can import data <em>en masse</em> by loading a CSV file. Records with no specified ID will be assigned one; records with IDs that already exist will be replaced by the imported data. CSV files can be created in most spreadsheet programs, including Microsoft Excel.</p> -->\r\n    <div class=\"inline\">\r\n        <button type='submit' class='blue' on:click|preventDefault={backup}>Back up data</button>\r\n        <button type='submit' class='blue' on:click|preventDefault={restoreBackup}>Restore backup</button>\r\n        <button type='submit' on:click|preventDefault={()=>{ clearDataModal = true }}>Clear data</button>\r\n    </div>\r\n</div>\r\n\r\n{#if showPagesModal}\r\n    <Modal on:forceClose={()=>{ showPagesModal = false }}>\r\n        <h3>Select {formatText($settings.services, true, true)}</h3>\r\n        <ul id='pages-list'>\r\n            {#each pages as page}\r\n                <li class:selected={page.selected} on:click={()=>{page.selected = !page.selected; $settings = $settings }}>{page.name}</li>\r\n            {/each}\r\n        </ul>\r\n        <button class='centered blue' type='submit' on:click|preventDefault={savePageSettings}>OK</button>\r\n    </Modal>\r\n{/if}\r\n\r\n{#if showBackupSuccessfulModal}\r\n    <Modal on:forceClose={()=>{ showBackupSuccessfulModal = false }}>\r\n        <h3>Backup Successful</h3>\r\n        <p>All data has been backed up to a folder marked with the current date and time.</p>\r\n        <button class='centered blue' type='submit' on:click|preventDefault={()=> { showBackupSuccessfulModal = false}}>OK</button>\r\n    </Modal>\r\n{/if}\r\n\r\n{#if showRestoreSuccessfulModal}\r\n    <Modal on:forceClose={()=>{ showRestoreSuccessfulModal = false }}>\r\n        <h3>Restore Successful</h3>\r\n        <p>All data has been restored from the selected folder.</p>\r\n        <button class='centered blue' type='submit' on:click|preventDefault={()=> { showRestoreSuccessfulModal = false}}>OK</button>\r\n    </Modal>\r\n{/if}\r\n\r\n{#if clearDataModal}\r\n    <Modal on:forceClose={()=>{ clearDataModal = false }}>\r\n        <h3>Clear Data?</h3>\r\n        <p>We strongly recommend that you <strong>back up your data first</strong> before clearing the database.</p>\r\n        <div class=\"centered inline\">\r\n            <button type='submit' on:click|preventDefault={clearData}>Clear Data</button>\r\n            <button class='blue' type='submit' on:click|preventDefault={()=> { clearDataModal = false}}>Cancel</button>\r\n        </div>\r\n    </Modal>\r\n{/if}\r\n\r\n{#if showDeletedModal}\r\n    <Modal on:forceClose={()=>{ showDeletedModal = false }}>\r\n        <h3>Data Deletion Successful</h3>\r\n        <p>All data has been cleared from the database.</p>\r\n        <button class='centered blue' type='submit' on:click|preventDefault={()=> { showDeletedModal = false}}>OK</button>\r\n    </Modal>\r\n{/if}",
    "<script>\r\n    import { onMount } from 'svelte'\r\n    import { fly, scale } from 'svelte/transition'\r\n    import {abbreviate, loadStudents, saveStudent, removeStudent, countStudents} from './logic/data.js'\r\n    import Fuse from 'fuse.js'\r\n    import { settings, formatText } from './store.js'\r\n\r\n    import Modal from \"./widgets/Modal.svelte\"\r\n\r\n    let studs = []\r\n    let searchResults = []\r\n\r\n    let studCreatorOpen = false\r\n    let showConfirmModal = false\r\n    let showDeleteConfirmModal = false\r\n\r\n    let searchTimeout = null\r\n    let searchBox = null\r\n    let studContentHighlighted = false\r\n\r\n    let resultsPerPage = 10\r\n    let page = 0\r\n    let studentCount = 0\r\n\r\n    let newStud = {\r\n        fname: \"\", lname: \"\", _id: \"\"\r\n    }\r\n    let toDelete = \"\"\r\n\r\n    let fuse = null\r\n\r\n    let save = ()=> {\r\n        saveStudent(newStud, $settings.databasedir).then(()=>{\r\n            searchTime(searchBox.value, 0)\r\n        })\r\n    }\r\n\r\n    let searchTime = (search, timeout = 600)=> {\r\n        return new Promise((resolve)=>{\r\n            if(searchTimeout) clearTimeout(searchTimeout)\r\n            searchTimeout = setTimeout(()=>{\r\n                loadStudents(resultsPerPage * page, resultsPerPage, search, $settings.databasedir).then((studsLoaded)=>{\r\n\r\n                    countStudents($settings.databasedir).then((count)=> {\r\n                        studentCount = count\r\n                    })\r\n\r\n                    studs = studsLoaded\r\n                    studCreatorOpen = false\r\n                    newStud = {\r\n                        fname: \"\", lname: \"\", _id: \"\"\r\n                    }\r\n\r\n                    fuse = new Fuse(studs, { keys: [\"student.fname\", \"student.lname\", \"student._id\"] })\r\n\r\n                    if(search == \"\")\r\n                        searchResults = studs\r\n                    else\r\n                        searchResults = fuse.search(search)\r\n\r\n                    resolve(true)\r\n                })\r\n            }, timeout)\r\n        })\r\n    }\r\n\r\n    let removeStud = (id)=> {\r\n        toDelete = id\r\n        showConfirmModal = true\r\n    }\r\n\r\n    let deleteConfirm = (id) => {\r\n        removeStudent(id, $settings.databasedir).then(()=>{\r\n            toDelete = \"\"\r\n            showDeleteConfirmModal = true\r\n            showConfirmModal = false\r\n\r\n            searchTime(searchBox.value, 0)\r\n        })\r\n    }\r\n\r\n</script>\r\n\r\n<style>\r\n.student a {\r\n    display: block;\r\n    margin-top: .5em;\r\n    text-align: right;\r\n    position: relative;\r\n    left: 2em;\r\n}\r\n\r\n.pagination {\r\n    display: flex;\r\n    width: 100%;\r\n    justify-content: space-between;\r\n    margin: .5em auto;\r\n    align-items: center;\r\n}\r\n\r\n.controls {\r\n    font-size: 1.5em;\r\n}\r\n\r\n.controls a {\r\n    text-decoration: none;\r\n}</style>\r\n\r\n{#await searchTime(\"\", 0)}\r\n    <div class='loading'>Loading...</div>\r\n{:then}\r\n    <div style='position: relative;' in:fly={{x: 100, delay: 500}} out:fly={{x: 100}}>\r\n        <div class='switchable'>\r\n            <h2>{formatText($settings.students, true, true)}</h2>\r\n        </div>\r\n        <div class='form-halves'>\r\n            <label for=\"search\">Find: </label>\r\n            <input bind:this={searchBox} type=\"text\" id='search' on:keyup={()=>{searchTime(searchBox.value)}}>\r\n        </div>\r\n        <div>Search by name or ID.</div>\r\n        <div class=\"mt-2 mb-1\">\r\n            <a href=\"newStud\" on:click|preventDefault={()=>{studCreatorOpen = true}}>New {formatText($settings.students, false, false)}</a>\r\n        </div>\r\n\r\n        <div class=\"pagination\">\r\n            <div class='controls'>\r\n                <a href=\"firstpage\" on:click|preventDefault={()=>{ page = 0; searchTime(searchBox.value, 0) }}>&laquo;</a>\r\n                <a href=\"prevpage\" on:click|preventDefault={()=>{ page > 0 ? page -= 1 : page = 0; searchTime(searchBox.value, 0) }}>&lsaquo;</a>\r\n            </div>\r\n            <div>Results {resultsPerPage * page + 1} - {(resultsPerPage * page + resultsPerPage) < studentCount ? (studentCount * page + resultsPerPage) : studentCount}</div>\r\n            <div class='controls'>\r\n                <a href=\"nextpage\" on:click|preventDefault={()=>{ page < Math.floor(studentCount / resultsPerPage) ? page += 1 : page = Math.floor(studentCount / resultsPerPage); searchTime(searchBox.value, 0) }}>&rsaquo;</a>\r\n                <a href=\"lastpage\" on:click|preventDefault={()=>{ page = Math.floor(studentCount / resultsPerPage); searchTime(searchBox.value, 0) }}>&raquo;</a>\r\n            </div>\r\n        </div>\r\n        \r\n        {#if searchResults.length}\r\n            {#each searchResults as loa}\r\n                <div class='student whitebox'>\r\n                    <h4>{loa.student.lname + \", \" + loa.student.fname + \" (\" + loa.student._id + \")\"}</h4>\r\n                    <p>{abbreviate(\"Current accommodations: \" + ((loa.accomsList && loa.accomsList.length) ? loa.accomsList.join(\", \") : \"none listed\"), 200)}</p>\r\n                    <a href={\"#record/\" + loa.student._id}>See record</a>\r\n                    <div class='close' on:click={()=>{ removeStud(loa.student._id) }}>&times;</div>\r\n                    <div class='close edit' on:click={()=>{ newStud = loa.student; studCreatorOpen = true }}>&#9998;</div>\r\n                </div>\r\n            {/each}\r\n        {:else}\r\n            <p>No {formatText($settings.students, true, false)} found. :-(</p>\r\n        {/if}\r\n    </div>\r\n{/await}\r\n\r\n{#if studCreatorOpen}\r\n    <Modal on:forceClose={()=>{ studCreatorOpen = false; newStud = { fname: \"\", lname: \"\", _id: \"\" } }}>\r\n        <h3>{formatText($settings.students, false, true)} Details</h3>\r\n        <form id='new-stud-form'>\r\n            <div class=\"form-halves\">\r\n                <label for='fname'>First name</label>\r\n                <input type=\"text\" id='fname' bind:value={newStud.fname}>\r\n            </div>\r\n            <div class=\"form-halves\">\r\n                <label for='fname'>Last name</label>\r\n                <input type=\"text\" id='fname' bind:value={newStud.lname}>\r\n            </div>\r\n            <div class=\"form-halves\">\r\n                <label for='id'>{formatText($settings.students, false, true)} ID</label>\r\n                <input type=\"text\" id='id' bind:value={newStud._id}>\r\n            </div>\r\n\r\n            <button class='centered blue' type='submit' on:click|preventDefault={()=> {save(); studCreatorOpen = false} }>OK</button>\r\n        </form>\r\n    </Modal>\r\n{/if}\r\n\r\n{#if showConfirmModal}\r\n    <Modal on:forceClose={()=>{ showConfirmModal = false; toDelete = \"\" }}>\r\n        <h3>Are you sure?</h3>\r\n        <p>If you delete this {formatText($settings.students, false, false)}, it will not be recoverable. This will not affect {formatText($settings.students, false, false)}'s committed {formatText($settings.services, false, false)} history.</p>\r\n        <div class=\"align-ends\">\r\n            <button class='centered' type='submit' on:click|preventDefault={()=> { deleteConfirm(toDelete) }}>Delete it</button>\r\n            <button class='centered blue' type='submit' on:click|preventDefault={()=> {  showConfirmModal = false; toDelete = \"\" } }>Never mind</button>\r\n        </div>\r\n    </Modal>\r\n{/if}\r\n\r\n{#if showDeleteConfirmModal}\r\n    <Modal on:forceClose={()=>{ showDeleteConfirmModal = false }}>\r\n        <h3>All done!</h3>\r\n        <p>The indicated student has been removed from the list.</p>\r\n        <button class='centered blue' type='submit' on:click|preventDefault={()=> {  showDeleteConfirmModal = false } }>OK</button>\r\n    </Modal>\r\n{/if}",
    "<script>\r\n    import { onMount } from 'svelte'\r\n    import { fly, scale } from 'svelte/transition'\r\n    import SortableList from 'svelte-sortable-list'\r\n    import { cubicOut } from \"eases-jsnext\"\r\n    import { abbreviate, saveLOA, loadLOA, searchLOA, loadAccommodations} from './logic/data.js'\r\n    import { settings, formatText } from './store.js'\r\n\r\n    import { createEventDispatcher } from 'svelte';\r\n    const dispatch = createEventDispatcher()\r\n\r\n    import Datepicker from 'svelte-calendar'\r\n    import Modal from \"./widgets/Modal.svelte\"\r\n\r\n    //This takes element position into account\r\n    function flyModified(\r\n        node,\r\n        {\r\n            delay = 0,\r\n            duration = 400,\r\n            easing = cubicOut,\r\n            x = 0,\r\n            y = 0,\r\n            position = \"relative\"\r\n        }\r\n    ) {\r\n        const style = getComputedStyle(node);\r\n        const opacity = +style.opacity;\r\n        const transform = style.transform === \"none\" ? \"\" : style.transform;\r\n\r\n        return {\r\n        delay,\r\n        duration,\r\n        easing,\r\n        css: t => `\r\n            transform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\r\n            opacity: ${t * opacity};\r\n            position: ${position};`\r\n        };\r\n    }\r\n\r\n    class extDate extends Date {\r\n        addDays(days) {\r\n            let date = new extDate(this.valueOf())\r\n            date.setDate(date.getDate() + days)\r\n            return date\r\n        }\r\n    }\r\n\r\n    let LOAnew = true\r\n    let abs1 = false\r\n    let abs2 = false\r\n\r\n    let showSearchModal = false\r\n    let showSearchListModal = false\r\n    let showOverwriteModal = false\r\n    let showSavedModal = false\r\n    let showFormErrorModal = false\r\n    let showAccomsModal = false\r\n\r\n    let searchResults = []\r\n\r\n    let student = {\r\n        fname: \"\",\r\n        lname: \"\",\r\n        _id: \"\"\r\n    }\r\n\r\n    let searchStud = {\r\n        fname: \"\",\r\n        lname: \"\",\r\n        _id: \"\"\r\n    }\r\n\r\n    let accoms = []\r\n    let studentNotes = \"\"\r\n    let dateIssued = new Date(Date.now())\r\n    let dateIssuedNext = dateIssued\r\n    $: dateIssuedNext = new extDate(dateIssued).addDays(1)\r\n    let dateUpdated = new Date(Date.now())\r\n\r\n    let sortAccoms = ev=> { selectedAccoms = ev.detail }\r\n\r\n    $: selectedAccoms = accoms.length ? accoms.filter((accom)=>{ return accom.selected === true }) : []\r\n\r\n    let studentNotesHighlighted = false\r\n\r\n    $: disableUpdated = dateIssued.getMonth() == new Date(Date.now()).getMonth() && dateIssued.getDate() == new Date(Date.now()).getDate() && dateIssued.getFullYear() == new Date(Date.now()).getFullYear()\r\n\r\n    let months = [\r\n        \"January\",\r\n        \"February\",\r\n        \"March\",\r\n        \"April\",\r\n        \"May\",\r\n        \"June\",\r\n        \"July\",\r\n        \"August\",\r\n        \"September\",\r\n        \"November\",\r\n        \"December\"\r\n    ]\r\n\r\n    let style = \"margin: 0;\"\r\n    let studentNotesTextarea = null\r\n\r\n    let writeNewLOA = ()=> {\r\n        showSearchModal = false\r\n        clear()        \r\n    }\r\n\r\n    let searchForStudent = ()=> {\r\n        searchStud = {\r\n            fname: \"\",\r\n            lname: \"\",\r\n            _id: \"\"\r\n        }\r\n        showSearchModal = true\r\n    }\r\n    \r\n    let save = (upsert=false)=> {\r\n        //Trim and uc relevant form fields\r\n        student.lname = student.lname.trim()\r\n        student.fname = student.fname.trim()\r\n        student.lname = student.lname.substr(0,1).toUpperCase() + student.lname.substr(1)\r\n        student.fname = student.fname.substr(0,1).toUpperCase() + student.fname.substr(1)\r\n\r\n        //Validate form first!\r\n        if(student.fname.length < 2 ||\r\n            student.lname.length < 2 ||\r\n            student._id.length < 2 ||\r\n            accoms.length < 1\r\n        )\r\n        {\r\n            showFormErrorModal = true\r\n            return\r\n        }\r\n\r\n        if(!upsert) {\r\n            loadLOA(student, $settings.databasedir).then((existing)=>{\r\n                if(existing != null) {\r\n                    showOverwriteModal = true\r\n                }\r\n                else {\r\n                    saveLOA({ student, accoms: selectedAccoms, studentNotes, dateUpdated, dateIssued }, $settings.databasedir).then(()=>{\r\n                        showSavedModal = true\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        else saveLOA({ student, accoms: selectedAccoms, studentNotes, dateUpdated, dateIssued }, $settings.databasedir).then(()=>{\r\n            showSavedModal = true\r\n        })\r\n    }\r\n\r\n    let endSave = ()=> {\r\n        clear()\r\n        showSavedModal = false\r\n    }\r\n\r\n    let loadStudent = (inputstudent)=> {\r\n        loadLOA(inputstudent, $settings.databasedir).then((result)=>{\r\n            student = result.student || {}\r\n            accoms.forEach((accom)=>{\r\n                accom.selected = (()=> { \r\n                    let returnVal = false\r\n                    if(result.accoms) {\r\n                        result.accoms.forEach((raccom)=>{\r\n                            if(accom._id == raccom._id) {\r\n                                returnVal = true\r\n                            }\r\n                        })\r\n                    }\r\n                    return returnVal\r\n                })()\r\n            })\r\n\r\n            selectedAccoms = selectedAccoms = accoms.filter((accom)=>{ return accom.selected === true })\r\n            studentNotes = result.studentNotes || \"\"\r\n            dateIssued = result.dateIssued || new Date()\r\n            dateUpdated = result.dateUpdated || new Date()\r\n\r\n            LOAnew = false\r\n            showSearchListModal = false\r\n        })\r\n    }\r\n\r\n    let search = ()=> {\r\n        searchLOA(searchStud, $settings.databasedir).then(\r\n            (value)=> {\r\n                searchResults = value\r\n                showSearchModal = false\r\n                showSearchListModal = true\r\n            }\r\n        )\r\n    }\r\n\r\n    let clear = ()=> {\r\n        student = {\r\n            fname: \"\",\r\n            lname: \"\",\r\n            _id: \"\"\r\n        }\r\n\r\n        accoms.forEach((accom)=> {\r\n            accom.selected = false\r\n        })\r\n        selectedAccoms = []\r\n        studentNotes = \"\"\r\n\r\n        LOAnew = true\r\n\r\n        dateIssued = new Date(Date.now())\r\n        dateUpdated = new Date(Date.now())\r\n\r\n        dispatch('scrollUp')\r\n    }\r\n\r\n    onMount(()=> {\r\n        loadAccommodations($settings.databasedir).then((loadedAccoms)=>{\r\n            accoms = loadedAccoms\r\n        })\r\n    })\r\n\r\n    let accomCreatorOpen = false\r\n    let accomContentHighlighted = false\r\n    let newAccom = {}\r\n\r\n    let addCustomAccom = ()=> {\r\n        showAccomsModal = false\r\n        newAccom = {\r\n            name: \"\",\r\n            content: \"\",\r\n            selected: true\r\n        }\r\n        accomCreatorOpen = true\r\n    }\r\n\r\n    let setCustomAccom = ()=> {\r\n        accomCreatorOpen = false\r\n        accoms.push({...newAccom, _id: accoms.length + 1})\r\n        accoms = accoms\r\n    }\r\n\r\n</script>\r\n\r\n<style>\r\n\r\ninput {\r\n    z-index: 0;\r\n}\r\n\r\nbutton.just-text {\r\n    background-color: transparent;\r\n    border: none;\r\n    margin: 0; padding: 0;\r\n    font-size: 1em;\r\n}\r\n\r\ntextarea {\r\n    width: 100%;\r\n    display: block;\r\n}\r\n\r\n#student-notes-container {\r\n    position: relative;\r\n}\r\n\r\n.inline-buttons button {\r\n    display: inline;\r\n}\r\n\r\n.selectables li {\r\n    cursor: pointer;\r\n    color: #C33C54;\r\n}\r\n\r\n.selectables li:hover {\r\n    text-decoration: underline;\r\n}\r\n\r\n.switchable {\r\n    width: 100%;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.switchable h2 {\r\n    margin-top: 0;\r\n    padding-top: 1.5em;\r\n}\r\n\r\n#accoms-modal-list {\r\n    display: -ms-grid;\r\n    display: grid;\r\n    -ms-grid-columns: 1fr 1fr;\r\n    grid-template-columns: 1fr 1fr;\r\n    overflow-y: scroll;\r\n    list-style: none;\r\n    grid-gap: 1em;\r\n    padding-left: 0;\r\n    min-width: 30em;\r\n}\r\n\r\n#accoms-modal-list li {\r\n    background-color: #C33C54;\r\n    color: white;\r\n    padding: .5em;\r\n    text-align: center;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    width: 30em;\r\n    max-width: 40vw;\r\n}\r\n\r\n#accoms-modal-list li:hover {\r\n    -webkit-filter: brightness(1.2);\r\n            filter: brightness(1.2);\r\n}\r\n\r\n#accoms-modal-list li.selected {\r\n    background-color: #8EE3EF;\r\n    color: #37718E;\r\n    font-weight: bold;\r\n}\r\n\r\n.accommodation {\r\n    cursor: move;\r\n}\r\n\r\n#new-accom-form textarea { display: block; margin: 0; min-height: 15vh; }\r\n\r\n.form-halves2 {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: .5em;\r\n}\r\n\r\n.form-halves2 label {\r\n    margin-right: 1em;\r\n}\r\n\r\n.form-halves2 input {\r\n    flex-grow: 2;\r\n}\r\n\r\n.accom-content-wrapper {\r\n    position: relative;\r\n}\r\n\r\n.extend {\r\n    width: 20em;\r\n}</style>\r\n\r\n<div style='position: relative;' in:fly={{x: 100, delay: 500}} out:fly={{x: 100}}>\r\n    {#if LOAnew}\r\n        <div class='switchable' in:fly|local={{x: 100, delay: 500}} out:flyModified|local={{x: 100, position: 'absolute'}}>\r\n            <h2>Issue a New {formatText($settings.abbrev, false, false, true)}</h2>\r\n            <p class='mt-0'>...or <button class='just-text' on:click={searchForStudent}>search for an existing one</button>.</p>\r\n        </div>\r\n    {:else}\r\n        <div class='switchable' in:fly|local={{x: 100, delay: 500}} out:flyModified|local={{x: 100, position: 'absolute'}}>\r\n            <h2>Edit {student.fname}'s {formatText($settings.abbrev, false, false, true)}</h2>\r\n            <p class='mt-0'>...or <button class='just-text' on:click={writeNewLOA}>write a new one</button>.</p>\r\n        </div>\r\n    {/if}    \r\n    <form>\r\n        <div class=\"form-halves\">\r\n            <label for=\"issued\">Date</label>\r\n            <Datepicker style={style} start={new Date(2020, 0, 1)} end={new Date(Date.now())} bind:selected={dateUpdated}>\r\n                <input type='text' value={months[new Date(Date.now()).getMonth()] + \" \" + new Date(Date.now()).getDate() + \", \" + dateUpdated.getFullYear()}>\r\n            </Datepicker>\r\n        </div>\r\n\r\n        <h3>{formatText($settings.students, false, true)} Information</h3>\r\n        <div class=\"form-halves\">\r\n            <label for=\"fname\">First Name</label>\r\n            <input type=\"text\" id='fname' bind:value={student.fname} maxlength='100'>\r\n        </div>\r\n        <div class=\"form-halves\">\r\n            <label for=\"lname\">Last Name</label>\r\n            <input type=\"text\" id='lname' bind:value={student.lname} maxlength='100'>\r\n        </div>\r\n        <div class=\"form-halves\">\r\n            <label for=\"sid\">ID#</label>\r\n            <input type=\"text\" id='sid' bind:value={student._id} maxlength='20'>\r\n        </div>\r\n    \r\n        <div style='position: relative;'>\r\n            <h3>Approved {formatText($settings.services, true, true)}</h3>\r\n            <ul id='accoms-list'>\r\n                {#if selectedAccoms.length > 0}\r\n                    <!-- {#each selectedAccoms as accom}\r\n                        <li class='whitebox '>\r\n                            {#if accom.type && accom.type == 'editable'}\r\n                                <input type='text' class='h4' bind:value={accom.name} placeholder=\"Custom Accommodation Title\">\r\n                                <input type='text' bind:value={accom.content} placeholder=\"Custom accommodation description\">\r\n                            {:else}\r\n                                <h4>{accom.name}</h4>\r\n                                <p>{abbreviate(accom.content, 150)}</p>\r\n                            {/if}\r\n                            <div class='close' on:click={()=>{ accom.selected = false; accoms = accoms }}>&times;</div>\r\n                        </li>\r\n                    {/each} -->\r\n                    <SortableList \r\n                        list={selectedAccoms} \r\n                        key=\"_id\"\r\n                        on:sort={sortAccoms} \r\n                        let:item\r\n                        let:index>\r\n                        <li class=\"whitebox accommodation\">\r\n                            <h4>{item.name}</h4>\r\n                            <p>{abbreviate(item.content, 150)}</p>\r\n                            <div class='close' on:click={()=>{ item.selected = false; accoms = accoms }}>&times;</div>\r\n                        </li>\r\n                    </SortableList>\r\n                    <li><a href='addAccom' on:click|preventDefault={()=>{ showAccomsModal = true }}>Add more</a></li>\r\n                {:else}\r\n                    <li>No {formatText($settings.services, true, false)} listed - <a href='addAccom' on:click|preventDefault={()=>{ showAccomsModal = true }}>add some!</a></li>\r\n                {/if}\r\n            </ul>\r\n        </div>\r\n    \r\n        <h3>{formatText($settings.students, false, true)} Notes</h3>\r\n        <div id='student-notes-container'>\r\n            {#if studentNotesHighlighted}\r\n                <div transition:scale class='remaining-characters'>\r\n                    { studentNotes ? 250 - studentNotes.length : 250}\r\n                </div>\r\n            {/if}\r\n            <textarea bind:this={studentNotesTextarea} name=\"student-notes\" id=\"student-notes\" rows=\"5\" maxlength=\"250\" on:focus={()=>{studentNotesHighlighted = true}} on:blur={()=>{studentNotesHighlighted = false}} bind:value={studentNotes}></textarea>\r\n        </div>\r\n\r\n        <div class=\"inline-buttons\">\r\n            <button class='blue' type='submit' on:click|preventDefault={()=>{save()}}>Issue</button>\r\n            <button type='submit' on:click|preventDefault={()=>{clear()}}>Clear</button>\r\n        </div>\r\n    </form>\r\n\r\n\r\n    <!-- MODAL -->\r\n    {#if showSearchModal}\r\n        <Modal on:forceClose={()=>{ showSearchModal = false; }}>\r\n            <h3>Find a {formatText($settings.students, false, true)}</h3>\r\n            <p>Search by ID or first and last name.</p>\r\n            <form>\r\n                <div class=\"form-halves\">\r\n                    <label for=\"search-id\">ID#</label>\r\n                    <input id='search-id' type=\"text\" bind:value={searchStud._id} maxlength='20'>\r\n                </div>\r\n                <div class=\"form-halves\">\r\n                    <label for=\"search-fname\">First Name</label>\r\n                    <input id='search-fname' type=\"text\" bind:value={searchStud.fname} maxlength='100'>\r\n                </div>\r\n                <div class=\"form-halves\">\r\n                    <label for=\"search-lname\">Last Name</label>\r\n                    <input id='search-lname' type=\"text\" bind:value={searchStud.lname} maxlength='100'>\r\n                </div>\r\n\r\n                <button class='centered blue' type='submit' on:click|preventDefault={search}>Find them!</button>\r\n            </form>\r\n        </Modal>\r\n    {/if}\r\n\r\n    {#if showOverwriteModal}\r\n        <Modal on:forceClose={()=>{ showOverwriteModal = false }}>\r\n            <h3>Found an existing {formatText($settings.students, false, false)}!</h3>\r\n            <p>A {formatText($settings.students, false, false)} with that ID already exists. Do you want to issue a new {formatText($settings.abbrev, false, false, true)} for them?</p>\r\n                <div class=\"align-ends\">\r\n                    <button class='centered' type='submit' on:click|preventDefault={()=> {save(true); showOverwriteModal = false} }>Yes</button>\r\n                    <button class='centered blue' type='submit' on:click|preventDefault={()=> {showOverwriteModal = false} }>No</button>\r\n                </div>\r\n        </Modal>\r\n    {/if}\r\n\r\n    {#if showSearchListModal}\r\n        <Modal on:forceClose={()=> { showSearchListModal = false; }}>\r\n            <h3>Results</h3>\r\n            {#if searchResults.length == 0}\r\n                <p>No results were found. :-(</p>\r\n            {:else}\r\n                <p>We found the following {formatText($settings.students, true, false)}:</p>\r\n                <ul class='selectables'>\r\n                {#each searchResults as result}\r\n                    <li on:click={()=>{ loadStudent(result.student) }}>{result.student.lname}, {result.student.fname} - {result.student._id}</li>\r\n                {/each}\r\n                </ul>\r\n            {/if}\r\n            <button class='centered' type='submit' on:click|preventDefault={()=> { showSearchListModal = false; showSearchModal = true; }}>Back</button>\r\n        </Modal>\r\n    {/if}\r\n\r\n    {#if showSavedModal}\r\n        <Modal on:forceClose={()=> { endSave() }}>\r\n            <h3>Saved!</h3>\r\n            <p>You saved {student.fname} {student.lname}'s {formatText($settings.abbrev, false, false, true)}.</p>\r\n            <button class='centered blue' type='submit' on:click|preventDefault={ ()=> {endSave()} }>OK</button>\r\n        </Modal>\r\n    {/if}\r\n\r\n    {#if showFormErrorModal}\r\n        <Modal on:forceClose={()=> { showFormErrorModal = false }}>\r\n            <h3>Whoops!</h3>\r\n            <p>Looks like you didn't fill in all the {formatText($settings.students, false, false)}'s information. Also make sure that you've added all the {formatText($settings.services, true, false)} the {formatText($settings.students, false, false)} needs.</p>\r\n            <button class='centered blue' type='submit' on:click|preventDefault={ ()=> {showFormErrorModal = false} }>OK</button>\r\n        </Modal>\r\n    {/if}\r\n\r\n    {#if showAccomsModal}\r\n        <Modal on:forceClose={()=>{ showAccomsModal = false }}>\r\n            <h3>Select {formatText($settings.services, true, true)}</h3>\r\n            <ul id='accoms-modal-list'>\r\n                {#each accoms as accom}\r\n                    <li class:selected={accom.selected} on:click={()=>{accom.selected = !accom.selected }}>{abbreviate(accom.name, 25)}</li>\r\n                {/each}\r\n            </ul>\r\n            <p>...or <a href=\"custom\" on:click|preventDefault={addCustomAccom}>add a custom {formatText($settings.services, false, false)}.</a></p>\r\n            <button class='centered blue' type='submit' on:click|preventDefault={ ()=> {showAccomsModal = false} }>OK</button>\r\n        </Modal>\r\n    {/if}\r\n\r\n    {#if accomCreatorOpen}\r\n        <Modal on:forceClose={()=>{ accomCreatorOpen = false; newAccom = { name: \"\", content: \"\" } }}>\r\n            <h3 class='extend'>{formatText($settings.services, false, true)} Details</h3>\r\n            <form id='new-accom-form'>\r\n                <div class=\"form-halves2\">\r\n                    <label for='name'>Name</label>\r\n                    <input type=\"text\" id='name' bind:value={newAccom.name}>\r\n                </div>\r\n                <div class=\"in\">\r\n                    <label for=\"content\">Content</label><br/>\r\n                    <div class=\"accom-content-wrapper\">\r\n                        {#if accomContentHighlighted}\r\n                            <div transition:scale class='remaining-characters'>\r\n                                { newAccom.content.length ? 1200 - newAccom.content.length : 1200}\r\n                            </div>\r\n                        {/if}\r\n                        <textarea type=\"text\" id='content' bind:value={newAccom.content} rows=\"5\" maxlength=\"1200\" on:focus={()=>{accomContentHighlighted = true}} on:blur={()=>{accomContentHighlighted = false}}></textarea>\r\n                    </div>\r\n                </div>\r\n\r\n                <button class='centered blue' type='submit' on:click|preventDefault={()=> {setCustomAccom()} }>OK</button>\r\n            </form>\r\n        </Modal>\r\n    {/if}\r\n</div>",
    "<script>\r\n    import {scale, fade} from 'svelte/transition'\r\n    import { createEventDispatcher } from 'svelte';\r\n\r\n    const dispatch = createEventDispatcher()\r\n</script>\r\n\r\n<style lang='scss' type='text/postcss'>.modal-background {\n  background-color: rgba(37,78,112,0.8);\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 100; }\n\n.modal-inner {\n  background-color: white;\n  min-width: 20em;\n  max-width: 95%;\n  padding: 1em;\n  border-radius: .25em;\n  position: relative; }\n\n.modal-inner .inner {\n  margin: 0 auto; }\n\n.close {\n  position: absolute;\n  top: 0;\n  right: .5em;\n  color: gray;\n  font-size: 2em;\n  cursor: pointer; }\n\n.close:hover {\n  color: #C33C54; }</style>\r\n\r\n\r\n<div class='modal-background' in:fade={{duration: 300}} out:fade={{duration: 300, delay: 150}}>\r\n    <div class='modal-inner top-border-secondary' on:click|stopPropagation in:scale={{duration: 150, delay: 200}} out:scale={{duration: 150}}>\r\n        <div class='close' on:click={()=>{dispatch('forceClose')}}>&times;</div>\r\n        \r\n        <div class=\"inner\">\r\n            <slot>No content specified</slot>\r\n        </div>\r\n    </div>\r\n</div>"
  ],
  "names": [],
  "mappings": "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"
}